
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ptypy.simulations package &#8212; ptypy 0.4.0 documentation</title>
    <link rel="stylesheet" href="../_static/header.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/ptypyicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ptypy.utils package" href="ptypy.utils.html" />
    <link rel="prev" title="ptypy.resources package" href="ptypy.resources.html" />
<link href='http://fonts.googleapis.com/css?family=PT+Sans|Ubuntu|Cuprum' rel='stylesheet' type='text/css'>

  </head><body>



<div class="pageheader">
  <ul>
    <li><a href="http://ptycho.github.io/ptypy">Home</a></li>
    <li><a href="http://www.github.com/ptycho/ptypy">Github</a></li>
    <li><a href="../content.html">Docs</a></li>
    <!-- <li><a href="develop.html">Extend/Develop</a></li> -->
  </ul>
  <div>
    <a href="../index.html"><img src="../_static/logo_60px.png" alt="SPHINX" /></a>

    <h0 style="padding-bottom:40px">Ptychography for Python</h0>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.utils.html" title="ptypy.utils package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ptypy.resources.html" title="ptypy.resources package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.4.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ptypy.html" accesskey="U">ptypy package</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../content.html">
              <img class="logo" src="../_static/logo_100px.png" alt="Logo"/>
            </a></p>
<h3><a href="../content.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with Ptypy</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concepts and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_management.html">Data management</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameter tree structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ptypy.html">ptypy package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ptypy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ptypy.core.html">ptypy.core package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.engines.html">ptypy.engines package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.experiment.html">ptypy.experiment package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.io.html">ptypy.io package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.resources.html">ptypy.resources package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ptypy.simulations package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.utils.html">ptypy.utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ptypy.debug.html">ptypy.debug package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ptypy.html#module-ptypy">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ptypy.resources.html"
                        title="previous chapter">ptypy.resources package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ptypy.utils.html"
                        title="next chapter">ptypy.utils package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rst/ptypy.simulations.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ptypy-simulations-package">
<h1>ptypy.simulations package<a class="headerlink" href="#ptypy-simulations-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ptypy.simulations.detector">
<span id="ptypy-simulations-detector-module"></span><h2>ptypy.simulations.detector module<a class="headerlink" href="#module-ptypy.simulations.detector" title="Permalink to this headline">¶</a></h2>
<p>Detector module</p>
<p>Note that “dark current” and consequently exposure time is not used.
Modern detectors are insensitive to dark current.
Scale the incoming Intensity accordingly to match the number of photons
in your acquisition.</p>
<p>This file is part of the PTYPY package.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Copyright 2014 by the PTYPY team, see AUTHORS.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>GPLv2, see LICENSE for details.</p>
</dd>
</dl>
</div></blockquote>
<dl class="function">
<dt id="ptypy.simulations.detector.shot">
<code class="sig-prename descclassname">ptypy.simulations.detector.</code><code class="sig-name descname">shot</code><span class="sig-paren">(</span><em class="sig-param">I</em>, <em class="sig-param">exp=0.1</em>, <em class="sig-param">flux=100000.0</em>, <em class="sig-param">sensitivity=1.0</em>, <em class="sig-param">dark_c=None</em>, <em class="sig-param">io_noise=0.0</em>, <em class="sig-param">full_well=1023</em>, <em class="sig-param">el_per_ADU=1.0</em>, <em class="sig-param">offset=50.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.detector.shot" title="Permalink to this definition">¶</a></dt>
<dd><p>I : intensity distribution
flux : overall photon photons per seconds coming in
exp : exposition time in sec
io_noise : readout noise rms
full_well : electron capacity of each pixel
el_per_ADU : conversion effficiency of electrons to digitally counted units
dark_curr : electrons per second per pixel on average</p>
</dd></dl>

<dl class="class">
<dt id="ptypy.simulations.detector.Detector">
<em class="property">class </em><code class="sig-prename descclassname">ptypy.simulations.detector.</code><code class="sig-name descname">Detector</code><span class="sig-paren">(</span><em class="sig-param">pars=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.detector.Detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ptypy.simulations.detector.Detector.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param">intensity_stack</em>, <em class="sig-param">convert_dtype=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.detector.Detector.filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ptypy.simulations.detector.conv">
<code class="sig-prename descclassname">ptypy.simulations.detector.</code><code class="sig-name descname">conv</code><span class="sig-paren">(</span><em class="sig-param">A</em>, <em class="sig-param">inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.detector.conv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ptypy.simulations.detector.fill2D">
<code class="sig-prename descclassname">ptypy.simulations.detector.</code><code class="sig-name descname">fill2D</code><span class="sig-paren">(</span><em class="sig-param">imA</em>, <em class="sig-param">imB</em>, <em class="sig-param">offset</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.detector.fill2D" title="Permalink to this definition">¶</a></dt>
<dd><p>fill array imA with imB</p>
</dd></dl>

</div>
<div class="section" id="module-ptypy.simulations.ptysim_utils">
<span id="ptypy-simulations-ptysim-utils-module"></span><h2>ptypy.simulations.ptysim_utils module<a class="headerlink" href="#module-ptypy.simulations.ptysim_utils" title="Permalink to this headline">¶</a></h2>
<p>Utilities for the simulation package.</p>
<p>This file is part of the PTYPY package.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Copyright 2014 by the PTYPY team, see AUTHORS.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>GPLv2, see LICENSE for details.</p>
</dd>
</dl>
</div></blockquote>
<dl class="function">
<dt id="ptypy.simulations.ptysim_utils.exp_positions">
<code class="sig-prename descclassname">ptypy.simulations.ptysim_utils.</code><code class="sig-name descname">exp_positions</code><span class="sig-paren">(</span><em class="sig-param">positions</em>, <em class="sig-param">drift=0.0</em>, <em class="sig-param">scale=0.0</em>, <em class="sig-param">noise=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.ptysim_utils.exp_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes postion array and messes around with it</p>
</dd></dl>

</div>
<div class="section" id="module-ptypy.simulations.simscan">
<span id="ptypy-simulations-simscan-module"></span><h2>ptypy.simulations.simscan module<a class="headerlink" href="#module-ptypy.simulations.simscan" title="Permalink to this headline">¶</a></h2>
<p>Simulation of ptychographic datasets.</p>
<p>This file is part of the PTYPY package.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Copyright 2014 by the PTYPY team, see AUTHORS.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>GPLv2, see LICENSE for details.</p>
</dd>
</dl>
</div></blockquote>
<dl class="class">
<dt id="ptypy.simulations.simscan.SimScan">
<em class="property">class </em><code class="sig-prename descclassname">ptypy.simulations.simscan.</code><code class="sig-name descname">SimScan</code><span class="sig-paren">(</span><em class="sig-param">pars=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.simscan.SimScan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ptypy.core.html#ptypy.core.data.PtyScan" title="ptypy.core.data.PtyScan"><code class="xref py py-class docutils literal notranslate"><span class="pre">ptypy.core.data.PtyScan</span></code></a></p>
<p>Simulates a ptychographic scan and acts as Virtual data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pars</strong> (<a class="reference internal" href="ptypy.utils.html#ptypy.utils.parameters.Param" title="ptypy.utils.parameters.Param"><em>Param</em></a>) – PtyScan parameters. See <a class="reference internal" href="parameters.html#scandata.SimScan" title="scandata.SimScan"><code class="xref py py-data docutils literal notranslate"><span class="pre">scandata.SimScan</span></code></a>.</p>
</dd>
</dl>
<dl class="attribute">
<dt id="ptypy.simulations.simscan.SimScan.DEFAULT">
<code class="sig-name descname">DEFAULT</code><em class="property"> = {'add_poisson_noise': False, 'auto_center': None, 'center': 'fftshift', 'chunk_format': '.chunk%02d', 'detector': {}, 'dfile': None, 'distance': 7.19, 'energy': 7.2, 'experimentID': None, 'frame_size': None, 'illumination': {'aperture': {'central_stop': None, 'diffuser': None, 'edge': 2.0, 'form': 'circ', 'offset': 0.0, 'rotate': 0.0, 'size': None}, 'diversity': {'noise': (0.5, 1.0), 'power': 0.1, 'shift': None}, 'model': None, 'photons': None, 'propagation': {'antialiasing': 1, 'focussed': None, 'parallel': None, 'spot_size': None}, 'recon': {'label': None, 'rfile': '\\*.ptyr'}}, 'label': None, 'load_parallel': 'data', 'min_frames': 1, 'name': 'SimScan', 'num_frames': None, 'orientation': None, 'plot': True, 'pos_drift': 0.0, 'pos_noise': 1e-10, 'pos_scale': 0.0, 'positions_theory': None, 'propagation': 'farfield', 'psf': None, 'psize': 0.000172, 'rebin': None, 'sample': {'diversity': {'noise': None, 'power': 0.1, 'shift': None}, 'fill': 1, 'model': None, 'process': {'density': 1, 'formula': None, 'offset': (0, 0), 'ref_index': (0.5, 0.0), 'smoothing': 2, 'thickness': 1e-06, 'zoom': None}, 'recon': {'rfile': '\\*.ptyr'}, 'stxm': {'label': None}}, 'save': None, 'shape': 256, 'verbose_level': 1, 'version': 0.1, 'xy': {'count': None, 'extent': 1.5e-05, 'jitter': None, 'model': None, 'offset': 0.0, 'override': None, 'spacing': 1.5e-06, 'steps': 10}}</em><a class="headerlink" href="#ptypy.simulations.simscan.SimScan.DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ptypy.simulations.simscan.SimScan.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">indices</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.simscan.SimScan.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data, weights and positions from internal dictionarys</p>
</dd></dl>

<dl class="method">
<dt id="ptypy.simulations.simscan.SimScan.manipulate_ptycho">
<code class="sig-name descname">manipulate_ptycho</code><span class="sig-paren">(</span><em class="sig-param">ptycho</em><span class="sig-paren">)</span><a class="headerlink" href="#ptypy.simulations.simscan.SimScan.manipulate_ptycho" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite in child class for inline manipulation
of the ptycho instance that is created by the Simulation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ptypy.simulations">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ptypy.simulations" title="Permalink to this headline">¶</a></h2>
<p>Ptychographic simulation module.</p>
<p>This file is part of the PTYPY package.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Copyright 2014 by the PTYPY team, see AUTHORS.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>GPLv2, see LICENSE for details.</p>
</dd>
</dl>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.utils.html" title="ptypy.utils package"
             >next</a> |</li>
        <li class="right" >
          <a href="ptypy.resources.html" title="ptypy.resources package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.4.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ptypy.html" >ptypy package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Pierre Thibault, Bjoern Enders and others.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>