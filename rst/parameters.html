
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Parameter tree structure &#8212; ptypy 0.4.0 documentation</title>
    <link rel="stylesheet" href="../_static/header.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/ptypyicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ptypy package" href="ptypy.html" />
    <link rel="prev" title="Data management" href="data_management.html" />
<link href='http://fonts.googleapis.com/css?family=PT+Sans|Ubuntu|Cuprum' rel='stylesheet' type='text/css'>

  </head><body>



<div class="pageheader">
  <ul>
    <li><a href="http://ptycho.github.io/ptypy">Home</a></li>
    <li><a href="http://www.github.com/ptycho/ptypy">Github</a></li>
    <li><a href="../content.html">Docs</a></li>
    <!-- <li><a href="develop.html">Extend/Develop</a></li> -->
  </ul>
  <div>
    <a href="../index.html"><img src="../_static/logo_60px.png" alt="SPHINX" /></a>

    <h0 style="padding-bottom:40px">Ptychography for Python</h0>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.4.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../content.html">
              <img class="logo" src="../_static/logo_100px.png" alt="Logo"/>
            </a></p>
<h3><a href="../content.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with Ptypy</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concepts and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_management.html">Data management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameter tree structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#io">io</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#io-interaction">io.interaction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scandata">scandata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scandata-ptyscan">scandata.PtyScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-ptydscan">scandata.PtydScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-moonflowerscan">scandata.MoonFlowerScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-quickscan">scandata.QuickScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-simscan">scandata.SimScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-hdf5loader">scandata.Hdf5Loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-savu">scandata.Savu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-id16ascan">scandata.ID16AScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-amoscan">scandata.AMOScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-diproifermiscan">scandata.DiProIFERMIScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-flispecscanmultexp">scandata.FliSpecScanMultexp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-ucllaserscan">scandata.UCLLaserScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-nanomaxstepscannov2016">scandata.NanomaxStepscanNov2016</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-nanomaxstepscanmay2017">scandata.NanomaxStepscanMay2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-nanomaxflyscanjune2017">scandata.NanomaxFlyscanJune2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-als5321scan">scandata.ALS5321Scan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scandata-bragg3dsimscan">scandata.Bragg3dSimScan</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scan">scan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scan-scanmodel">scan.ScanModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-vanilla">scan.Vanilla</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-full">scan.Full</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-bragg3dmodel">scan.Bragg3dModel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#engine">engine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm">engine.DM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm-simple">engine.DM_simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-ml">engine.ML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-dummy">engine.Dummy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-epie">engine.ePIE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm-3dbragg">engine.DM_3dBragg</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ptycho">ptycho</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-io">ptycho.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-scans">ptycho.scans</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ptycho-engines">ptycho.engines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ptypy.html">ptypy package</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data_management.html"
                        title="previous chapter">Data management</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ptypy.html"
                        title="next chapter">ptypy package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rst/parameters.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parameter-tree-structure">
<span id="parameters"></span><h1>Parameter tree structure<a class="headerlink" href="#parameter-tree-structure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="io">
<h2>io<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt>
<code class="sig-name descname">io</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<div class="section" id="io-interaction">
<h3>io.interaction<a class="headerlink" href="#io-interaction" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="io.interaction">
<code class="sig-prename descclassname">io.</code><code class="sig-name descname">interaction</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server">
<code class="sig-prename descclassname">io.interaction.</code><code class="sig-name descname">server</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.active">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">active</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> for no  ZeroMQ interaction server</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.address">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">address</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The address the server is listening to.</p>
<p>Wenn running ptypy on a remote server, it is the servers network address.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'tcp://127.0.0.1'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.port">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">port</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port the server is listening to.</p>
<p>Make sure to pick an unused port with a few unused ports close to it.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5560</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.connections">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">connections</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of concurrent connections on the server</p>
<p>A range <code class="docutils literal notranslate"><span class="pre">[port</span> <span class="pre">:</span> <span class="pre">port+connections]</span></code> of ports adjacent <code class="xref py py-data docutils literal notranslate"><span class="pre">port</span></code>
will be opened on demand for connecting clients.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.poll_timeout">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">poll_timeout</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.poll_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Network polling interval</p>
<p>Network polling interval, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.pinginterval">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">pinginterval</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.pinginterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval to check pings</p>
<p>Interval with which to check pings, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.server.pingtimeout">
<code class="sig-prename descclassname">io.interaction.server.</code><code class="sig-name descname">pingtimeout</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.server.pingtimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Ping time out</p>
<p>Ping time out: client disconnected after this period, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client">
<code class="sig-prename descclassname">io.interaction.</code><code class="sig-name descname">client</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client.address">
<code class="sig-prename descclassname">io.interaction.client.</code><code class="sig-name descname">address</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The address the server is listening to.</p>
<p>Wenn running ptypy on a remote server, it is the servers network address.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'tcp://127.0.0.1'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client.port">
<code class="sig-prename descclassname">io.interaction.client.</code><code class="sig-name descname">port</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port the server is listening to.</p>
<p>Make sure to pick an unused port with a few unused ports close to it.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5560</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client.poll_timeout">
<code class="sig-prename descclassname">io.interaction.client.</code><code class="sig-name descname">poll_timeout</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.poll_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Network polling interval</p>
<p>Network polling interval, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client.pinginterval">
<code class="sig-prename descclassname">io.interaction.client.</code><code class="sig-name descname">pinginterval</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.pinginterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval to check pings</p>
<p>Interval with which to check pings, in seconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="io.interaction.client.connection_timeout">
<code class="sig-prename descclassname">io.interaction.client.</code><code class="sig-name descname">connection_timeout</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#io.interaction.client.connection_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Timeout for dead server</p>
<p>Timeout for dead server, in milliseconds.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">3600000.0</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="scandata">
<h2>scandata<a class="headerlink" href="#scandata" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt>
<code class="sig-name descname">scandata</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<div class="section" id="scandata-ptyscan">
<h3>scandata.PtyScan<a class="headerlink" href="#scandata-ptyscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.PtyScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">PtyScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.name">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'PtyScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.dfile">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.chunk_format">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.save">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.auto_center">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.PtyScan.center" title="scandata.PtyScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.load_parallel">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.rebin">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.orientation">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.min_frames">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.positions_theory">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.num_frames">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.label">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.experimentID">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.version">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.shape">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.center">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.psize">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.distance">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.energy">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtyScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.PtyScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtyScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-ptydscan">
<h3>scandata.PtydScan<a class="headerlink" href="#scandata-ptydscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.PtydScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">PtydScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.name">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'PtydScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.dfile">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepared data file path</p>
<p>If source is <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'file'</span></code>, data will be loaded from this file and processing as
well as saving is deactivated. If source is the path to a file, data will be saved to this file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.chunk_format">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.save">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.auto_center">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.PtydScan.center" title="scandata.PtydScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.load_parallel">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.rebin">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.orientation">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.min_frames">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.positions_theory">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.num_frames">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.label">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.experimentID">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.version">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.shape">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.center">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.psize">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.distance">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.energy">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.PtydScan.source">
<code class="sig-prename descclassname">scandata.PtydScan.</code><code class="sig-name descname">source</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.PtydScan.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate source file path if data is meant to be reprocessed.</p>
<p><cite>None</cite> for input shall be deprecated in future</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'file'</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-moonflowerscan">
<h3>scandata.MoonFlowerScan<a class="headerlink" href="#scandata-moonflowerscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.MoonFlowerScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">MoonFlowerScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.name">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'MoonFlowerScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.dfile">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.chunk_format">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.save">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.auto_center">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.MoonFlowerScan.center" title="scandata.MoonFlowerScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.load_parallel">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.rebin">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.orientation">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.min_frames">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.positions_theory">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.num_frames">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to simulate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.label">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.experimentID">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.version">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.shape">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">128</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.center">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.psize">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.distance">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.energy">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.density">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Position distance in fraction of illumination frame</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.2</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.model">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'round'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.photons">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">photons</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of photons for Poisson noise</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100000000.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.MoonFlowerScan.psf">
<code class="sig-prename descclassname">scandata.MoonFlowerScan.</code><code class="sig-name descname">psf</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.MoonFlowerScan.psf" title="Permalink to this definition">¶</a></dt>
<dd><p>Point spread function of the detector</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-quickscan">
<h3>scandata.QuickScan<a class="headerlink" href="#scandata-quickscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.QuickScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">QuickScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.name">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'MoonFlowerScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.dfile">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.chunk_format">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.save">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.auto_center">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.QuickScan.center" title="scandata.QuickScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.load_parallel">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.rebin">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.orientation">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.min_frames">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.positions_theory">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.num_frames">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to simulate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.label">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.experimentID">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.version">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.shape">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">64</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.center">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.psize">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.distance">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.energy">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.QuickScan.density">
<code class="sig-prename descclassname">scandata.QuickScan.</code><code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.QuickScan.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Position distance in fraction of illumination frame</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-simscan">
<h3>scandata.SimScan<a class="headerlink" href="#scandata-simscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.SimScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">SimScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">aperture</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.rotate">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.central_stop">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">central_stop</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.diffuser">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">diffuser</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.edge">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">edge</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.form">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">form</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.offset">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.aperture.size">
<code class="sig-prename descclassname">scandata.SimScan.illumination.aperture.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.diversity">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">diversity</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.diversity.noise">
<code class="sig-prename descclassname">scandata.SimScan.illumination.diversity.</code><code class="sig-name descname">noise</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in each non-primary mode of the illumination.</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.diversity.power">
<code class="sig-prename descclassname">scandata.SimScan.illumination.diversity.</code><code class="sig-name descname">power</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">float</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.diversity.shift">
<code class="sig-prename descclassname">scandata.SimScan.illumination.diversity.</code><code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.model">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.photons">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">photons</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">float</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.propagation">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.propagation.antialiasing">
<code class="sig-prename descclassname">scandata.SimScan.illumination.propagation.</code><code class="sig-name descname">antialiasing</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.propagation.focussed">
<code class="sig-prename descclassname">scandata.SimScan.illumination.propagation.</code><code class="sig-name descname">focussed</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.propagation.parallel">
<code class="sig-prename descclassname">scandata.SimScan.illumination.propagation.</code><code class="sig-name descname">parallel</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.propagation.spot_size">
<code class="sig-prename descclassname">scandata.SimScan.illumination.propagation.</code><code class="sig-name descname">spot_size</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.recon">
<code class="sig-prename descclassname">scandata.SimScan.illumination.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.recon.label">
<code class="sig-prename descclassname">scandata.SimScan.illumination.recon.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.illumination.recon.rfile">
<code class="sig-prename descclassname">scandata.SimScan.illumination.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.model">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of initial object model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite>
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal model resource strings
- <em>&lt;template&gt;</em> : one of the templates in sample module
In script, you may pass a numpy.array here directly as the model. This array will be
processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness
profile.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.fill">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">complex</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Default fill value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.recon">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.recon.rfile">
<code class="sig-prename descclassname">scandata.SimScan.sample.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.stxm">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">stxm</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p>STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.stxm.label">
<code class="sig-prename descclassname">scandata.SimScan.sample.stxm.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">process</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Model processing parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.offset">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.zoom">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">zoom</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom value for object simulation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be
resized using <a class="reference internal" href="#scandata.SimScan.sample.process.zoom" title="scandata.SimScan.sample.process.zoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">zoom()</span></code></a>.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.formula">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">formula</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal notranslate"><span class="pre">'Au'</span></code> or <code class="docutils literal notranslate"><span class="pre">'NaCl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.density">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.thickness">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">thickness</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum thickness of sample</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.ref_index">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">ref_index</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigned refractive index, tuple of format (real, complex)</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, treat source array as projection of refractive index a+bj for (a, b). If a refractive index
is provided the array’s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">0.0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.process.smoothing">
<code class="sig-prename descclassname">scandata.SimScan.sample.process.</code><code class="sig-name descname">smoothing</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.diversity">
<code class="sig-prename descclassname">scandata.SimScan.sample.</code><code class="sig-name descname">diversity</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.diversity.noise">
<code class="sig-prename descclassname">scandata.SimScan.sample.diversity.</code><code class="sig-name descname">noise</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the generated modes of the illumination</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.diversity.power">
<code class="sig-prename descclassname">scandata.SimScan.sample.diversity.</code><code class="sig-name descname">power</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.sample.diversity.shift">
<code class="sig-prename descclassname">scandata.SimScan.sample.diversity.</code><code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">xy</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.override">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">override</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.override" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.model">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.model" title="Permalink to this definition">¶</a></dt>
<dd><p>None, ‘round’, ‘raster’, ‘spiral’ or array-like</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.extent">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">extent</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.extent" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.5e-05</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.spacing">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">spacing</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Step size (grid spacing)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.5e-06</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.steps">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">steps</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.steps" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.offset">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.jitter">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">jitter</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.jitter" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.xy.count">
<code class="sig-prename descclassname">scandata.SimScan.xy.</code><code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.xy.count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.name">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'SimScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.dfile">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.chunk_format">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.save">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.auto_center">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.SimScan.center" title="scandata.SimScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.load_parallel">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.rebin">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.orientation">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.min_frames">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.positions_theory">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.num_frames">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.label">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.experimentID">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.version">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.shape">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.center">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.psize">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.distance">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.energy">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.pos_noise">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">pos_noise</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Uniformly distributed noise in xy experimental positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.pos_scale">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">pos_scale</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplifier for noise.</p>
<p>Will be extended to match number of positions. Maybe used to only put nois on individual points</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.pos_drift">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">pos_drift</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.pos_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Drift or offset paramter</p>
<p>Noise independent drift. Will be extended like pos_scale.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.detector">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">detector</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.detector" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.frame_size">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">frame_size</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.frame_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Final frame size when saving</p>
<p>If None, no cropping/padding happens.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.psf">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">psf</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.psf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for gaussian convolution or convolution kernel after propagation</p>
<p>Use it for simulating partial coherence.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.verbose_level">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">verbose_level</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.verbose_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbose level when simulating</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.plot">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.plot" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.SimScan.propagation">
<code class="sig-prename descclassname">scandata.SimScan.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.SimScan.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>farfield or nearfield</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-hdf5loader">
<h3>scandata.Hdf5Loader<a class="headerlink" href="#scandata-hdf5loader" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.Hdf5Loader">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">Hdf5Loader</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.name">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Hdf5Loader'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.dfile">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.chunk_format">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.save">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.auto_center">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.Hdf5Loader.center" title="scandata.Hdf5Loader.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.load_parallel">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.rebin">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.orientation">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.min_frames">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions_theory">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.num_frames">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.label">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.experimentID">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.version">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.shape">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.center">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.psize">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.distance">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.energy">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.add_poisson_noise">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.intensities">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">intensities</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.intensities" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for the diffraction data.</p>
<p>Data shapes can be either (A, B, frame_size_m, frame_size_n) or (C, frame_size_m, frame_size_n).
It is assumed in this latter case that the fast axis in the scan corresponds
the fast axis on disc (i.e. C-ordered layout).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.intensities.is_swmr">
<code class="sig-prename descclassname">scandata.Hdf5Loader.intensities.</code><code class="sig-name descname">is_swmr</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.intensities.is_swmr" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, then intensities are assumed to be a swmr dataset that is being written as processing
is taking place.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.intensities.live_key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.intensities.</code><code class="sig-name descname">live_key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.intensities.live_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to live keys inside the intensities.file (used only if is_swmr is True)</p>
<p>Live_keys indicate where the data collection has progressed to. They are zero at the
scan start, but non-zero when the position is complete.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.intensities.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.intensities.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.intensities.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the file containing the diffraction intensities.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.intensities.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.intensities.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.intensities.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the intensities entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">positions</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for the position information data.</p>
<p>Shapes for each axis that are currently covered and tested corresponding
to the intensity shapes are:
* axis_data.shape (A, B) for data.shape (A, B, frame_size_m, frame_size_n),
* axis_data.shape (k,) for data.shape (k, frame_size_m, frame_size_n),
* axis_data.shape (C, D) for data.shape (C*D, frame_size_m, frame_size_n) ,
* axis_data.shape (C,) for data.shape (C, D, frame_size_m, frame_size_n) where D is the
size of the other axis, and
* axis_data.shape (C,) for data.shape (C*D, frame_size_m, frame_size_n) where D is the
size of the other axis.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.is_swmr">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">is_swmr</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.is_swmr" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, positions are assumed to be a swmr dataset that is being written as processing
is taking place.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.live_key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">live_key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.live_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Live_keys indicate where the data collection has progressed to. They are zero at the
scan start, but non-zero when the position is complete. If None whilst positions.is_swmr
is True, use “intensities.live_key”.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the file containing the position information. If None use “intensities.file”.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.slow_key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">slow_key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.slow_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the slow-axis positions entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.slow_multiplier">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">slow_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.slow_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative factor that converts motor positions to metres.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.fast_key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">fast_key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.fast_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the fast-axis positions entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.fast_multiplier">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">fast_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.fast_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative factor that converts motor positions to metres.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.bounding_box">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.</code><code class="sig-name descname">bounding_box</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Bounding box (in array indices) to reconstruct a restricted area</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.bounding_box.fast_axis_bounds">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.bounding_box.</code><code class="sig-name descname">fast_axis_bounds</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.bounding_box.fast_axis_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>If an int, this is the lower bound only, if a tuple is (min, max)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.positions.bounding_box.slow_axis_bounds">
<code class="sig-prename descclassname">scandata.Hdf5Loader.positions.bounding_box.</code><code class="sig-name descname">slow_axis_bounds</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.positions.bounding_box.slow_axis_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>If an int, this is the lower bound only, if a tuple is (min, max)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.mask">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">mask</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for mask data.</p>
<p>The shape of the loaded data is assumed to be (frame_size_m, frame_size_n) or the same
shape of the full intensities data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.mask.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.mask.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.mask.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the file containing the diffraction mask.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.mask.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.mask.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.mask.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the mask entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.flatfield">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">flatfield</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.flatfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for flatfield data.</p>
<p>The shape of the loaded data is assumed to be (frame_size_m, frame_size_n) or the same
shape of the full intensities data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.flatfield.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.flatfield.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.flatfield.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the file containing the diffraction flatfield.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.flatfield.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.flatfield.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.flatfield.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the flatfield entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.darkfield">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">darkfield</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.darkfield" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for darkfield data.</p>
<p>The shape is assumed to be (frame_size_m, frame_size_n) or the same
shape of the full intensities data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.darkfield.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.darkfield.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.darkfield.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the file containing the diffraction darkfield.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.darkfield.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.darkfield.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.darkfield.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Key to the darkfield entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.normalisation">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">normalisation</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.normalisation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for per-point normalisation (i.e. ion chamber reading).</p>
<p>The shape of loaded data is assumed to have the same dimensionality as data.shape[:-2]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.normalisation.is_swmr">
<code class="sig-prename descclassname">scandata.Hdf5Loader.normalisation.</code><code class="sig-name descname">is_swmr</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.normalisation.is_swmr" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set to be true, then normalisations are assumed to be swmr datasets that are being written as processing
is taking place.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.normalisation.live_key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.normalisation.</code><code class="sig-name descname">live_key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.normalisation.live_key" title="Permalink to this definition">¶</a></dt>
<dd><p>If normalisation.is_swmr is true then we need a live_key to know where the data collection has progressed to.
This is the key to these live keys inside the normalisation.file. If None, whilst normalisation.is_swmr is
True, then we just assume the same keys work for both normalisation and intensities. They are zero at the
scan start, but non-zero when the position is complete.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.normalisation.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.normalisation.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.normalisation.file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the path to the file containing the normalisation information. If None then we try to find the information
in the “intensities.file” location.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.normalisation.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.normalisation.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.normalisation.key" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the key to the normalisation entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_energy">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">recorded_energy</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter contains information if we are use the recorded energy rather than as a parameter.
It should be a scalar value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_energy.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_energy.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_energy.file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the path to the file containing the recorded_energy.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_energy.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_energy.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_energy.key" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the key to the recorded_energy entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_energy.multiplier">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_energy.</code><code class="sig-name descname">multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_energy.multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the multiplier for the recorded energy.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_distance">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">recorded_distance</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter contains information if we are use the recorded distance to the detector rather than as a parameter,
It should be a scalar value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_distance.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_distance.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_distance.file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the path to the file containing the recorded_distance between sample and detector.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_distance.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_distance.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_distance.key" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the key to the recorded_distance entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_psize">
<code class="sig-prename descclassname">scandata.Hdf5Loader.</code><code class="sig-name descname">recorded_psize</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_psize" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter contains information if we are use the recorded psize to the detector rather than as a parameter,
It should be a scalar value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_psize.file">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_psize.</code><code class="sig-name descname">file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_psize.file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the path to the file containing the recorded detector psize.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Hdf5Loader.recorded_psize.key">
<code class="sig-prename descclassname">scandata.Hdf5Loader.recorded_psize.</code><code class="sig-name descname">key</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Hdf5Loader.recorded_psize.key" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the key to the recorded_psize entry in the hdf5 file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-savu">
<h3>scandata.Savu<a class="headerlink" href="#scandata-savu" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.Savu">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">Savu</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.name">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Savu'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.dfile">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.chunk_format">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.save">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.auto_center">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.Savu.center" title="scandata.Savu.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.load_parallel">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.rebin">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.orientation">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.min_frames">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.positions_theory">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.num_frames">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.label">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.experimentID">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.version">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.shape">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.center">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.psize">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.distance">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.energy">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.add_poisson_noise">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.mask">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">mask</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.mask" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.data">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Savu.positions">
<code class="sig-prename descclassname">scandata.Savu.</code><code class="sig-name descname">positions</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Savu.positions" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-id16ascan">
<h3>scandata.ID16AScan<a class="headerlink" href="#scandata-id16ascan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.ID16AScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">ID16AScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.name">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ID16AScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.dfile">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.chunk_format">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.save">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.auto_center">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.ID16AScan.center" title="scandata.ID16AScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.load_parallel">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.rebin">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.orientation">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(False,</span> <span class="pre">True,</span> <span class="pre">False)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.min_frames">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.positions_theory">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.num_frames">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.label">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.experimentID">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.version">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.shape">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.center">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.psize">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.distance">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.energy">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.motors">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">motors</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.motors" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor names to determine the sample translation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['spy',</span> <span class="pre">'spz']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.motors_multiplier">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">motors_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.motors_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor conversion factor to meters at ID16A beamline</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.base_path">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">base_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.base_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Base path to read and write data</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.sample_name">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">sample_name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.sample_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample name - will be read from h5</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.mask_file">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">mask_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.mask_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask file name</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.flat_division">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">flat_division</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.flat_division" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch for flat division</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.dark_subtraction">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">dark_subtraction</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.dark_subtraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch for dark subtraction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.distortion_h_file">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">distortion_h_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.distortion_h_file" title="Permalink to this definition">¶</a></dt>
<dd><p>The h and v are inverted here - that’s on purpose!</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'/data/id16a/inhouse1/instrument/img1/optique_peter_distortion/detector_distortion2d_v.edf'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.distortion_v_file">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">distortion_v_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.distortion_v_file" title="Permalink to this definition">¶</a></dt>
<dd><p>The h and v are inverted here - that’s on purpose!</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'/data/id16a/inhouse1/instrument/img1/optique_peter_distortion/detector_distortion2d_h.edf'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.whitefield_file">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">whitefield_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.whitefield_file" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'/data/id16a/inhouse1/instrument/whitefield/white.edf'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.det_flat_field">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">det_flat_field</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.det_flat_field" title="Permalink to this definition">¶</a></dt>
<dd><p>path to detector flat field</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ID16AScan.recipe">
<code class="sig-prename descclassname">scandata.ID16AScan.</code><code class="sig-name descname">recipe</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ID16AScan.recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Specific additional parameters of ID16A</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-amoscan">
<h3>scandata.AMOScan<a class="headerlink" href="#scandata-amoscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.AMOScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">AMOScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.name">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'AMOScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.dfile">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.chunk_format">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.save">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.auto_center">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.AMOScan.center" title="scandata.AMOScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.load_parallel">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.rebin">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.orientation">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.min_frames">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.positions_theory">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.num_frames">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.label">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.experimentID">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.version">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.shape">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.center">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.psize">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.distance">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.energy">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.date">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">date</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.date" title="Permalink to this definition">¶</a></dt>
<dd><p>timestamp-like date for documenting recons</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.scan_number">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">scan_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.scan_number" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate scan number (label)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.motors_multiplier">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">motors_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.motors_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor conversion factor to meters</p>
<p>1e-3 AMO, 1e-6 for CXI</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.data_file">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">data_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>path to data file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.dark_file">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">dark_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.dark_file" title="Permalink to this definition">¶</a></dt>
<dd><p>path to dark file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.flat_file">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">flat_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.flat_file" title="Permalink to this definition">¶</a></dt>
<dd><p>path to flat file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.mask_file">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">mask_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.mask_file" title="Permalink to this definition">¶</a></dt>
<dd><p>path to mask file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.AMOScan.threshold_correct">
<code class="sig-prename descclassname">scandata.AMOScan.</code><code class="sig-name descname">threshold_correct</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.AMOScan.threshold_correct" title="Permalink to this definition">¶</a></dt>
<dd><p>value used for thresholding raws (values below set to 0.)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-diproifermiscan">
<h3>scandata.DiProIFERMIScan<a class="headerlink" href="#scandata-diproifermiscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.DiProIFERMIScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">DiProIFERMIScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.name">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DiProIFERMIScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.dfile">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.chunk_format">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.save">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.auto_center">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.DiProIFERMIScan.center" title="scandata.DiProIFERMIScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.load_parallel">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.rebin">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.orientation">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.min_frames">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.positions_theory">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.num_frames">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.label">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.experimentID">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.version">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.shape">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.center">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.psize">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.distance">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.energy">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.base_path">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">base_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.base_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.scan_name">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">scan_name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.scan_name" title="Permalink to this definition">¶</a></dt>
<dd><p>has to be a string (e.g. ‘Cycle001’)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.run_ID">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">run_ID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.run_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>has to be a string (e.g. ‘Scan018’)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.dark_name">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">dark_name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.dark_name" title="Permalink to this definition">¶</a></dt>
<dd><p>has to be a string (e.g. ‘Dark’)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.dark_value">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">dark_value</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.dark_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Used if dark_number is None (?!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">200.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.detector_flat_file">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">detector_flat_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.detector_flat_file" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.h5_file_pattern">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">h5_file_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.h5_file_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)s/imported/%(run_ID)s/%(scan_name)s/rawdata/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.dark_h5_file_pattern">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">dark_h5_file_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.dark_h5_file_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)s/imported/%(run_ID)s/%(dark_name)s/rawdata/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.date">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">date</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.motors">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">motors</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.motors" title="Permalink to this definition">¶</a></dt>
<dd><p>check orientation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['sample_x',</span> <span class="pre">'sample_y']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.motors_multiplier">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">motors_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.motors_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>DiProI-specific</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.mask_file">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">mask_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.mask_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask file name</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.use_refined_positions">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">use_refined_positions</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.use_refined_positions" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.refined_positions_pattern">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">refined_positions_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.refined_positions_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)s/imported/%(run_ID)s/%(scan_name)s/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.flat_division">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">flat_division</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.flat_division" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch for flat division</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.DiProIFERMIScan.dark_subtraction">
<code class="sig-prename descclassname">scandata.DiProIFERMIScan.</code><code class="sig-name descname">dark_subtraction</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.DiProIFERMIScan.dark_subtraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch for dark subtraction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-flispecscanmultexp">
<h3>scandata.FliSpecScanMultexp<a class="headerlink" href="#scandata-flispecscanmultexp" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.FliSpecScanMultexp">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">FliSpecScanMultexp</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.name">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'FliSpecScanMultexp'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.dfile">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.chunk_format">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.save">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.auto_center">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.FliSpecScanMultexp.center" title="scandata.FliSpecScanMultexp.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.load_parallel">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.rebin">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.orientation">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(True,</span> <span class="pre">True,</span> <span class="pre">False)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.min_frames">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.positions_theory">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.num_frames">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.label">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.experimentID">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.version">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.shape">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.center">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'auto'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.psize">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.distance">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.energy">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.add_poisson_noise">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.base_path">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">base_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.base_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'/data/CDI/opticslab_sxdm_2013/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.scan_number">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">scan_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.scan_number" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">74</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.dark_number">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">dark_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.dark_number" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">72</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.exp_string">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">exp_string</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.exp_string" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'exp_time'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.hdr_thresholds">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">hdr_thresholds</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.hdr_thresholds" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[500,</span> <span class="pre">50000]</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.lam">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">lam</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.lam" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">6.5e-07</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.z">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">z</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.z" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.158</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.psize_det">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">psize_det</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.psize_det" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.4e-05</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.scan_dir">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">scan_dir</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.scan_dir" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ccdfli/S00000-00999/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.log_file_pattern">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">log_file_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.log_file_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)sspec/dat-files/spec_started_2013_11_21_1659.dat'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.data_dir_pattern">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">data_dir_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.data_dir_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)s%(scan_dir)sS%(scan_number)05d/'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.FliSpecScanMultexp.dark_dir_pattern">
<code class="sig-prename descclassname">scandata.FliSpecScanMultexp.</code><code class="sig-name descname">dark_dir_pattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.FliSpecScanMultexp.dark_dir_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'%(base_path)s%(scan_dir)sS%(dark_number)05d/'</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-ucllaserscan">
<h3>scandata.UCLLaserScan<a class="headerlink" href="#scandata-ucllaserscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.UCLLaserScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">UCLLaserScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.name">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'UCLLaserScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.dfile">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.chunk_format">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.save">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.auto_center">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.UCLLaserScan.center" title="scandata.UCLLaserScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.load_parallel">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rebin">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.orientation">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(False,</span> <span class="pre">False,</span> <span class="pre">False)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.min_frames">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.positions_theory">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.num_frames">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.label">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.experimentID">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.version">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.shape">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.center">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.psize">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.distance">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.energy">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.scan_number">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">scan_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.scan_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan number</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.dark_number">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">dark_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.dark_number" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.flat_number">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">flat_number</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.flat_number" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.lam">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">lam</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.lam" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.z">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">z</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.z" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from object to screen</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.detector_name">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">detector_name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.detector_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the detector as specified in the nexus file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.motors">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">motors</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.motors" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor names to determine the sample translation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['t1_sx',</span> <span class="pre">'t1_sy']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.motors_multiplier">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">motors_multiplier</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.motors_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Motor conversion factor to meters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.base_path">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">base_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.base_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.data_file_path">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">data_file_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.data_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">&quot;%(base_path)s'</span> <span class="pre">+</span> <span class="pre">'raw/%(scan_number)06d&quot;</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.dark_file_path">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">dark_file_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.dark_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">&quot;%(base_path)s'</span> <span class="pre">+</span> <span class="pre">'raw/%(dark_number)06d&quot;</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.flat_file_path">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">flat_file_path</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.flat_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">&quot;%(base_path)s'</span> <span class="pre">+</span> <span class="pre">'raw/%(flat_number)06d&quot;</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.mask_file">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">mask_file</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.mask_file" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.use_EP">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">use_EP</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.use_EP" title="Permalink to this definition">¶</a></dt>
<dd><p>Use flat as Empty Probe (EP) for probe sharing needs to be set to True in the recipe of the scan that will act as EP</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.remove_hot_pixels">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">remove_hot_pixels</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.remove_hot_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply hot pixel correction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.remove_hot_pixels.apply">
<code class="sig-prename descclassname">scandata.UCLLaserScan.remove_hot_pixels.</code><code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.remove_hot_pixels.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate by setting to True</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.remove_hot_pixels.size">
<code class="sig-prename descclassname">scandata.UCLLaserScan.remove_hot_pixels.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.remove_hot_pixels.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of the window on which the median filter will be applied around every data point</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.remove_hot_pixels.tolerance">
<code class="sig-prename descclassname">scandata.UCLLaserScan.remove_hot_pixels.</code><code class="sig-name descname">tolerance</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.remove_hot_pixels.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Tolerance multiplied with the standard deviation of the data array subtracted by the blurred array (difference array) yields the threshold for cutoff.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.remove_hot_pixels.ignore_edges">
<code class="sig-prename descclassname">scandata.UCLLaserScan.remove_hot_pixels.</code><code class="sig-name descname">ignore_edges</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.remove_hot_pixels.ignore_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, edges of the array are ignored, which speeds up the code</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution">
<code class="sig-prename descclassname">scandata.UCLLaserScan.</code><code class="sig-name descname">rl_deconvolution</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply Richardson Lucy deconvolution</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.apply">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.</code><code class="sig-name descname">apply</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate by setting to True</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.numiter">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.dfile">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide MTF from file; no loading procedure present for now, loading through recon script required</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.</code><code class="sig-name descname">gaussians</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians" title="Permalink to this definition">¶</a></dt>
<dd><p>Create fake psf as a sum of gaussians if no MTF provided</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians.g1">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.gaussians.</code><code class="sig-name descname">g1</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians.g1" title="Permalink to this definition">¶</a></dt>
<dd><p>list of gaussians for Richardson Lucy deconvolution</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.std_x">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.</code><code class="sig-name descname">std_x</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.std_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation in x direction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.std_y">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.</code><code class="sig-name descname">std_y</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.std_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation in y direction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.off_x">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.</code><code class="sig-name descname">off_x</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.off_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset / shift in x direction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.off_y">
<code class="sig-prename descclassname">scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.</code><code class="sig-name descname">off_y</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.UCLLaserScan.rl_deconvolution.gaussians.g1.off_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset / shift in y direction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-nanomaxstepscannov2016">
<h3>scandata.NanomaxStepscanNov2016<a class="headerlink" href="#scandata-nanomaxstepscannov2016" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">NanomaxStepscanNov2016</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.name">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'NanomaxStepscanNov2016'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.dfile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.chunk_format">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.save">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.auto_center">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.NanomaxStepscanNov2016.center" title="scandata.NanomaxStepscanNov2016.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.load_parallel">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.rebin">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.orientation">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.min_frames">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.positions_theory">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.num_frames">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.label">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.experimentID">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.version">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.shape">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.center">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.psize">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.distance">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.energy">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.add_poisson_noise">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.dataPath">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">dataPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.dataPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing the Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.datafile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">datafile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.maskfile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">maskfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.maskfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Arbitrary mask file</p>
<p>Hdf5 file containing an array called ‘mask’ at the root level.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.pilatusPath">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">pilatusPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.pilatusPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing detector image files</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.pilatusPattern">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">pilatusPattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.pilatusPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Format string for detector image files</p>
<p>A format string with two integer fields, the first holds the scan number while the second holds the image number.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanNov2016.scannr">
<code class="sig-prename descclassname">scandata.NanomaxStepscanNov2016.</code><code class="sig-name descname">scannr</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanNov2016.scannr" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan number</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-nanomaxstepscanmay2017">
<h3>scandata.NanomaxStepscanMay2017<a class="headerlink" href="#scandata-nanomaxstepscanmay2017" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">NanomaxStepscanMay2017</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.name">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'NanomaxStepscanMay2017'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.dfile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.chunk_format">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.save">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.auto_center">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.NanomaxStepscanMay2017.center" title="scandata.NanomaxStepscanMay2017.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.load_parallel">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.rebin">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.orientation">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.min_frames">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.positions_theory">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.num_frames">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.label">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.experimentID">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.version">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.shape">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.center">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.psize">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.distance">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.energy">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.add_poisson_noise">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.dataPath">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">dataPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.dataPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing the Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.datafile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">datafile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.maskfile">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">maskfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.maskfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Arbitrary mask file</p>
<p>Hdf5 file containing an array called ‘mask’ at the root level.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.pilatusPath">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">pilatusPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.pilatusPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing detector image files</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.pilatusPattern">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">pilatusPattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.pilatusPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Format string for detector image files</p>
<p>A format string with two integer fields, the first holds the scan number while the second holds the image number.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.scannr">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">scannr</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.scannr" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan number</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.hdfPath">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">hdfPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.hdfPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to image array within detector hdf5 file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'entry_0000/measurement/Pilatus/data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.xMotorFlipped">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">xMotorFlipped</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.xMotorFlipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip detector x positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.yMotorFlipped">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">yMotorFlipped</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.yMotorFlipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip detector y positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxStepscanMay2017.xMotorAngle">
<code class="sig-prename descclassname">scandata.NanomaxStepscanMay2017.</code><code class="sig-name descname">xMotorAngle</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxStepscanMay2017.xMotorAngle" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle of the motor x axis relative to the lab x axis</p>
<p>Use this if the stage is mounted at an angle around the y axis, the sign doesn’t matter as a cos factor is added.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-nanomaxflyscanjune2017">
<h3>scandata.NanomaxFlyscanJune2017<a class="headerlink" href="#scandata-nanomaxflyscanjune2017" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">NanomaxFlyscanJune2017</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.name">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'NanomaxFlyscanJune2017'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.dfile">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.chunk_format">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.save">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.auto_center">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.NanomaxFlyscanJune2017.center" title="scandata.NanomaxFlyscanJune2017.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.load_parallel">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.rebin">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.orientation">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.min_frames">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.positions_theory">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.num_frames">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.label">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.experimentID">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.version">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.shape">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.center">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.psize">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.distance">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.energy">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.add_poisson_noise">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.dataPath">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">dataPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.dataPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing the Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.datafile">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">datafile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>Sardana master file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.maskfile">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">maskfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.maskfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Arbitrary mask file</p>
<p>Hdf5 file containing an array called ‘mask’ at the root level.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.pilatusPath">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">pilatusPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.pilatusPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing detector image files</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.pilatusPattern">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">pilatusPattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.pilatusPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Format string for detector image files</p>
<p>A format string with two integer fields, the first holds the scan number while the second holds the image number.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.scannr">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">scannr</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.scannr" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan number</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.hdfPath">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">hdfPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.hdfPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to image array within detector hdf5 file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'entry_0000/measurement/Pilatus/data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.xMotorFlipped">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">xMotorFlipped</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.xMotorFlipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip detector x positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.yMotorFlipped">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">yMotorFlipped</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.yMotorFlipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip detector y positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.xMotorAngle">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">xMotorAngle</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.xMotorAngle" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle of the motor x axis relative to the lab x axis</p>
<p>Use this if the stage is mounted at an angle around the y axis, the sign doesn’t matter as a cos factor is added.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.detNormalizationFilePattern">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">detNormalizationFilePattern</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.detNormalizationFilePattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Format string for detector file containing data over which to normalize</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.NanomaxFlyscanJune2017.detNormalizationIndices">
<code class="sig-prename descclassname">scandata.NanomaxFlyscanJune2017.</code><code class="sig-name descname">detNormalizationIndices</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.NanomaxFlyscanJune2017.detNormalizationIndices" title="Permalink to this definition">¶</a></dt>
<dd><p>Indices over which to normalize</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-als5321scan">
<h3>scandata.ALS5321Scan<a class="headerlink" href="#scandata-als5321scan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.ALS5321Scan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">ALS5321Scan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.name">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ALS5321Scan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.dfile">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.chunk_format">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.save">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.auto_center">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.ALS5321Scan.center" title="scandata.ALS5321Scan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.load_parallel">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.rebin">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.orientation">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.min_frames">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.positions_theory">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.num_frames">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.label">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.experimentID">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.version">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.shape">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.center">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.psize">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.distance">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.energy">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.82</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.dataPath">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">dataPath</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.dataPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to folder containing the data</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.dataile">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">dataile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.dataile" title="Permalink to this definition">¶</a></dt>
<dd><p>CXI data file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.maskfile">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">maskfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.maskfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional mask file</p>
<p>Should contain an array called ‘mask’ at the root level.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS">
<code class="sig-prename descclassname">scandata.ALS5321Scan.</code><code class="sig-name descname">CXI_PATHS</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for CXI path options</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS.CXI_DATA_PATH">
<code class="sig-prename descclassname">scandata.ALS5321Scan.CXI_PATHS.</code><code class="sig-name descname">CXI_DATA_PATH</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS.CXI_DATA_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Data path within the CXI file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'entry_1/data_1/data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS.CXI_MASK_PATH">
<code class="sig-prename descclassname">scandata.ALS5321Scan.CXI_PATHS.</code><code class="sig-name descname">CXI_MASK_PATH</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS.CXI_MASK_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask path within the CXI file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'mask'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS.CXI_POS_PATH">
<code class="sig-prename descclassname">scandata.ALS5321Scan.CXI_PATHS.</code><code class="sig-name descname">CXI_POS_PATH</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS.CXI_POS_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>Positions path within the CXI file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'entry_1/data_1/translation'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS.CXI_DISTANCE">
<code class="sig-prename descclassname">scandata.ALS5321Scan.CXI_PATHS.</code><code class="sig-name descname">CXI_DISTANCE</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS.CXI_DISTANCE" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance path within the CXI file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'entry_1/instrument_1/detector_1/distance'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.ALS5321Scan.CXI_PATHS.CXI_PSIZES">
<code class="sig-prename descclassname">scandata.ALS5321Scan.CXI_PATHS.</code><code class="sig-name descname">CXI_PSIZES</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.ALS5321Scan.CXI_PATHS.CXI_PSIZES" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel size path within the CXI file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['entry_1/instrument_1/detector_1/x_pixel_size',</span> <span class="pre">'entry_1/instrument_1/detector_1/y_pixel_size']</span></code></p>
</dd></dl>

</div>
<div class="section" id="scandata-bragg3dsimscan">
<h3>scandata.Bragg3dSimScan<a class="headerlink" href="#scandata-bragg3dsimscan" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scandata.Bragg3dSimScan">
<code class="sig-prename descclassname">scandata.</code><code class="sig-name descname">Bragg3dSimScan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.name">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.name" title="Permalink to this definition">¶</a></dt>
<dd><p>PtyScan subclass identifier</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Bragg3dSimScan'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.dfile">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">dfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p>File path where prepared data will be saved in the <code class="docutils literal notranslate"><span class="pre">ptyd</span></code> format.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.chunk_format">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">chunk_format</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Appendix to saved files if save == ‘link’</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'.chunk%02d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.save">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving mode</p>
<p>Mode to use to save data to file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: No saving</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately</p></li>
</ul>
<p>in the path given by the link. Links file paths are relative to master file.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.auto_center">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">auto_center</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if center in data is calculated automatically</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>, no automatic centering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>, only if <a class="reference internal" href="#scandata.Bragg3dSimScan.center" title="scandata.Bragg3dSimScan.center"><code class="xref py py-data docutils literal notranslate"><span class="pre">center</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, it will be enforced</p></li>
</ul>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.load_parallel">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">load_parallel</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">'data'</span></code>, <code class="docutils literal notranslate"><span class="pre">'common'</span></code>, <code class="docutils literal notranslate"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'data'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.rebin">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">rebin</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.orientation">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">orientation</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame orientation</p>
<p>Choose</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>: correct orientation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code>: invert rows  (numpy.flip_ud)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code>: invert columns, invert rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code>: transpose (numpy.transpose)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4+i</span></code>: tranpose + other operations from above</p></li>
</ul>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal notranslate"><span class="pre">(do_transpose,</span>
<span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.min_frames">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">min_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.positions_theory">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">positions_theory</code><span class="sig-paren">(</span><em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p>Theoretical positions for this scan</p>
<p>If provided, experimental positions from <code class="xref py py-class docutils literal notranslate"><span class="pre">PtyScan</span></code> subclass will be ignored. If data
preparation is called from Ptycho instance, the calculated positions from the
<a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal notranslate"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.num_frames">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">num_frames</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of
positions available</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.label">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.label" title="Permalink to this definition">¶</a></dt>
<dd><p>The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.experimentID">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">experimentID</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.version">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.version" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Explain this and decide if it is a user parameter.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.shape">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">shape</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">256</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.center">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">center</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter will be set by <code class="xref py py-data docutils literal notranslate"><span class="pre">auto_center</span></code> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'fftshift'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.psize">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">psize</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.psize" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.3e-05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.distance">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">distance</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample to detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.energy">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">energy</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Photon energy of the incident radiation in keV</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">8.5</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.add_poisson_noise">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">add_poisson_noise</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.add_poisson_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the scan should have poisson noise or not</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.rocking_step">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">rocking_step</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.rocking_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Step size in the rocking curve in degrees</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0025</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.n_rocking_positions">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">n_rocking_positions</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.n_rocking_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of rocking positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">40</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.theta_bragg">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">theta_bragg</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.theta_bragg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bragg angle in degrees</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">22.32</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.shuffle">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">shuffle</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffles all diffraction patterns</p>
<p>Mainly to test that they are still assembled correctly.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.dump">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump raw simulated 3d diffraction data to npz file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.dry_run">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">dry_run</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.dry_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Don’t calculate diffraction patterns</p>
<p>Skips the heavy FFT and just returns empty diff patterns.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.</code><code class="sig-name descname">aperture</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.rotate">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.central_stop">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">central_stop</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.diffuser">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">diffuser</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.edge">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">edge</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.form">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">form</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.offset">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.aperture.size">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.aperture.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.model">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.photons">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.</code><code class="sig-name descname">photons</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">float</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.propagation">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.propagation.antialiasing">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.propagation.</code><code class="sig-name descname">antialiasing</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.propagation.focussed">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.propagation.</code><code class="sig-name descname">focussed</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.propagation.parallel">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.propagation.</code><code class="sig-name descname">parallel</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.propagation.spot_size">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.propagation.</code><code class="sig-name descname">spot_size</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.recon">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.recon.label">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.recon.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.illumination.recon.rfile">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.illumination.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.scantype">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">scantype</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.scantype" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of position scan</p>
<p>‘1d’ for scan along y as in the paper, ‘2d’ for xy spiral scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'1d'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scandata.Bragg3dSimScan.stepsize">
<code class="sig-prename descclassname">scandata.Bragg3dSimScan.</code><code class="sig-name descname">stepsize</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scandata.Bragg3dSimScan.stepsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Step size of the spiral scan</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">5e-07</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="scan">
<h2>scan<a class="headerlink" href="#scan" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt>
<code class="sig-name descname">scan</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<div class="section" id="scan-scanmodel">
<h3>scan.ScanModel<a class="headerlink" href="#scan-scanmodel" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scan.ScanModel">
<code class="sig-prename descclassname">scan.</code><code class="sig-name descname">ScanModel</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.tags">
<code class="sig-prename descclassname">scan.ScanModel.</code><code class="sig-name descname">tags</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.propagation">
<code class="sig-prename descclassname">scan.ScanModel.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.data">
<code class="sig-prename descclassname">scan.ScanModel.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scan.ScanModel.data" title="scan.ScanModel.data"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan.ScanModel.data</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.data.name">
<code class="sig-prename descclassname">scan.ScanModel.data.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.illumination">
<code class="sig-prename descclassname">scan.ScanModel.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.ScanModel.sample">
<code class="sig-prename descclassname">scan.ScanModel.</code><code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.ScanModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-vanilla">
<h3>scan.Vanilla<a class="headerlink" href="#scan-vanilla" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scan.Vanilla">
<code class="sig-prename descclassname">scan.</code><code class="sig-name descname">Vanilla</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.tags">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">tags</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.propagation">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.data">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scan.Vanilla.data" title="scan.Vanilla.data"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan.Vanilla.data</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.data.name">
<code class="sig-prename descclassname">scan.Vanilla.data.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.illumination">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.illumination.size">
<code class="sig-prename descclassname">scan.Vanilla.illumination.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.illumination.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial probe size</p>
<p>The probe is initialized as a flat circle.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.sample">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.sample.fill">
<code class="sig-prename descclassname">scan.Vanilla.sample.</code><code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">complex</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial sample value</p>
<p>The sample is initialized with this value everywhere.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Vanilla.name">
<code class="sig-prename descclassname">scan.Vanilla.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Vanilla.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Vanilla'</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-full">
<h3>scan.Full<a class="headerlink" href="#scan-full" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scan.Full">
<code class="sig-prename descclassname">scan.</code><code class="sig-name descname">Full</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.tags">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">tags</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.propagation">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.data">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scan.Full.data" title="scan.Full.data"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan.Full.data</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.data.name">
<code class="sig-prename descclassname">scan.Full.data.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Illumination parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">aperture</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.rotate">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.central_stop">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">central_stop</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.diffuser">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">diffuser</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.edge">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">edge</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.form">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">form</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.offset">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.aperture.size">
<code class="sig-prename descclassname">scan.Full.illumination.aperture.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.diversity">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">diversity</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.diversity.noise">
<code class="sig-prename descclassname">scan.Full.illumination.diversity.</code><code class="sig-name descname">noise</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in each non-primary mode of the illumination.</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.diversity.power">
<code class="sig-prename descclassname">scan.Full.illumination.diversity.</code><code class="sig-name descname">power</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">float</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.diversity.shift">
<code class="sig-prename descclassname">scan.Full.illumination.diversity.</code><code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.model">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.photons">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">photons</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">float</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.propagation">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.propagation.antialiasing">
<code class="sig-prename descclassname">scan.Full.illumination.propagation.</code><code class="sig-name descname">antialiasing</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.propagation.focussed">
<code class="sig-prename descclassname">scan.Full.illumination.propagation.</code><code class="sig-name descname">focussed</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.propagation.parallel">
<code class="sig-prename descclassname">scan.Full.illumination.propagation.</code><code class="sig-name descname">parallel</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.propagation.spot_size">
<code class="sig-prename descclassname">scan.Full.illumination.propagation.</code><code class="sig-name descname">spot_size</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.recon">
<code class="sig-prename descclassname">scan.Full.illumination.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.recon.label">
<code class="sig-prename descclassname">scan.Full.illumination.recon.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.illumination.recon.rfile">
<code class="sig-prename descclassname">scan.Full.illumination.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.model">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of initial object model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite>
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal model resource strings
- <em>&lt;template&gt;</em> : one of the templates in sample module
In script, you may pass a numpy.array here directly as the model. This array will be
processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness
profile.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.fill">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">complex</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Default fill value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.recon">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.recon.rfile">
<code class="sig-prename descclassname">scan.Full.sample.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.stxm">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">stxm</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p>STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.stxm.label">
<code class="sig-prename descclassname">scan.Full.sample.stxm.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">process</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Model processing parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.offset">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.zoom">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">zoom</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p>Zoom value for object simulation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be
resized using <a class="reference internal" href="#scan.Full.sample.process.zoom" title="scan.Full.sample.process.zoom"><code class="xref py py-func docutils literal notranslate"><span class="pre">zoom()</span></code></a>.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.formula">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">formula</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal notranslate"><span class="pre">'Au'</span></code> or <code class="docutils literal notranslate"><span class="pre">'NaCl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.density">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">density</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.thickness">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">thickness</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum thickness of sample</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-06</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.ref_index">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">ref_index</code><span class="sig-paren">(</span><em class="sig-param">list</em>, <em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigned refractive index, tuple of format (real, complex)</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, treat source array as projection of refractive index a+bj for (a, b). If a refractive index
is provided the array’s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">(0.5,</span> <span class="pre">0.0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.process.smoothing">
<code class="sig-prename descclassname">scan.Full.sample.process.</code><code class="sig-name descname">smoothing</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.diversity">
<code class="sig-prename descclassname">scan.Full.sample.</code><code class="sig-name descname">diversity</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal notranslate"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.diversity.noise">
<code class="sig-prename descclassname">scan.Full.sample.diversity.</code><code class="sig-name descname">noise</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the generated modes of the illumination</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.diversity.power">
<code class="sig-prename descclassname">scan.Full.sample.diversity.</code><code class="sig-name descname">power</code><span class="sig-paren">(</span><em class="sig-param">tuple</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p>Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.sample.diversity.shift">
<code class="sig-prename descclassname">scan.Full.sample.diversity.</code><code class="sig-name descname">shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.name">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Full'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence">
<code class="sig-prename descclassname">scan.Full.</code><code class="sig-name descname">coherence</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.num_probe_modes">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">num_probe_modes</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.num_object_modes">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">num_object_modes</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of object modes</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.energies">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">energies</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.energies" title="Permalink to this definition">¶</a></dt>
<dd><p>?</p>
<p>?</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.spectrum">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">spectrum</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">[1.0]</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.object_dispersion">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">object_dispersion</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the object</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Full.coherence.probe_dispersion">
<code class="sig-prename descclassname">scan.Full.coherence.</code><code class="sig-name descname">probe_dispersion</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Full.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy dispersive response of the probe</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'achromatic'</span></code>: no dispersion
- <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>: linear response model
- <code class="docutils literal notranslate"><span class="pre">'irregular'</span></code>: no assumption
<strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-bragg3dmodel">
<h3>scan.Bragg3dModel<a class="headerlink" href="#scan-bragg3dmodel" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="scan.Bragg3dModel">
<code class="sig-prename descclassname">scan.</code><code class="sig-name descname">Bragg3dModel</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">illumination</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for probe initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">aperture</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p>Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.rotate">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate aperture by this value</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.central_stop">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">central_stop</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.diffuser">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">diffuser</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise in the transparen part of the aperture</p>
<p>Can be either:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no noise
- <code class="docutils literal notranslate"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)
- <code class="docutils literal notranslate"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.edge">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">edge</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.form">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">form</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p>One of None, ‘rect’ or ‘circ’</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield
- <code class="docutils literal notranslate"><span class="pre">'rect'</span></code> : rectangular aperture
- <code class="docutils literal notranslate"><span class="pre">'circ'</span></code> : circular aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'circ'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.offset">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">offset</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.aperture.size">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.aperture.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">tuple</em>, <em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.model">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of illumination model</p>
<p>One of:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons
- <code class="docutils literal notranslate"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters
- <code class="docutils literal notranslate"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data
- <em>&lt;resource&gt;</em> : one of ptypys internal image resource strings
- <em>&lt;template&gt;</em> : one of the templates inillumination module</p>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.photons">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">photons</code><span class="sig-paren">(</span><em class="sig-param">int</em>, <em class="sig-param">float</em>, <em class="sig-param">NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.propagation">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.propagation.antialiasing">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.propagation.</code><code class="sig-name descname">antialiasing</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p>Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.propagation.focussed">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.propagation.</code><code class="sig-name descname">focussed</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.propagation.parallel">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.propagation.</code><code class="sig-name descname">parallel</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel propagation distance</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.propagation.spot_size">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.propagation.</code><code class="sig-name descname">spot_size</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Focal spot diameter</p>
<p>If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal notranslate"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.recon">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">recon</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.recon.label">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.recon.</code><code class="sig-name descname">label</code><span class="sig-paren">(</span><em class="sig-param">NoneType</em>, <em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan label of diffraction that is to be used for probe estimate</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.recon.rfile">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.recon.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'\\*.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.illumination.size">
<code class="sig-prename descclassname">scan.Bragg3dModel.illumination.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.illumination.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial probe size</p>
<p>The probe is initialized as a flat circle.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.tags">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">tags</code><span class="sig-paren">(</span><em class="sig-param">list</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">['dummy']</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.propagation">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">propagation</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p>Propagation type</p>
<p>Either “farfield” or “nearfield”</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'farfield'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.data">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to container for data preparation</p>
<p><em>default</em> = <a class="reference internal" href="#scan.Bragg3dModel.data" title="scan.Bragg3dModel.data"><code class="xref py py-data docutils literal notranslate"><span class="pre">scan.Bragg3dModel.data</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.data.name">
<code class="sig-prename descclassname">scan.Bragg3dModel.data.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.data.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the PtyScan subclass to use</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.sample">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for sample initialization model</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.sample.fill">
<code class="sig-prename descclassname">scan.Bragg3dModel.sample.</code><code class="sig-name descname">fill</code><span class="sig-paren">(</span><em class="sig-param">float</em>, <em class="sig-param">complex</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial sample value</p>
<p>The sample is initialized with this value everywhere.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="scan.Bragg3dModel.name">
<code class="sig-prename descclassname">scan.Bragg3dModel.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#scan.Bragg3dModel.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Bragg3dModel'</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="engine">
<h2>engine<a class="headerlink" href="#engine" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt>
<code class="sig-name descname">engine</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<div class="section" id="engine-dm">
<h3>engine.DM<a class="headerlink" href="#engine-dm" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.DM">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">DM</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.numiter">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.numiter_contiguous">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.probe_support">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">position_refinement</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.start">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.stop">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.interval">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">interval</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.nshifts">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">nshifts</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.amplitude">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">amplitude</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.max_shift">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">max_shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.002</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.position_refinement.record">
<code class="sig-prename descclassname">engine.DM.position_refinement.</code><code class="sig-name descname">record</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.name">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DM'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.alpha">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference map parameter</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.probe_update_start">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">probe_update_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.subpix_start">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">subpix_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.subpix_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before starting subpixel interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.subpix">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">subpix</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.subpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Subpixel interpolation; ‘fourier’,’linear’ or None for no interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.update_object_first">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">update_object_first</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p>If True update object before probe</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.overlap_converge_factor">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">overlap_converge_factor</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.overlap_max_iterations">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">overlap_max_iterations</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.probe_inertia">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">probe_inertia</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-09</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.object_inertia">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">object_inertia</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.fourier_relax_factor">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">fourier_relax_factor</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>If rms error of model vs diffraction data is smaller than this fraction, Fourier constraint is met</p>
<p>Set this value higher for noisy data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.obj_smooth_std">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">obj_smooth_std</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.clip_object">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">clip_object</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM.probe_center_tol">
<code class="sig-prename descclassname">engine.DM.</code><code class="sig-name descname">probe_center_tol</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-dm-simple">
<h3>engine.DM_simple<a class="headerlink" href="#engine-dm-simple" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.DM_simple">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">DM_simple</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.numiter">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">123</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.numiter_contiguous">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.probe_support">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.name">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DM_simple'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.alpha">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference map parameter</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.overlap_converge_factor">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">overlap_converge_factor</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_simple.overlap_max_iterations">
<code class="sig-prename descclassname">engine.DM_simple.</code><code class="sig-name descname">overlap_max_iterations</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_simple.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-ml">
<h3>engine.ML<a class="headerlink" href="#engine-ml" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.ML">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">ML</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.numiter">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.numiter_contiguous">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.probe_support">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">position_refinement</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.start">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.stop">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.interval">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">interval</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.nshifts">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">nshifts</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.amplitude">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">amplitude</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.max_shift">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">max_shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.002</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.position_refinement.record">
<code class="sig-prename descclassname">engine.ML.position_refinement.</code><code class="sig-name descname">record</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.name">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ML'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.ML_type">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">ML_type</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.ML_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Likelihood model</p>
<p>One of ‘gaussian’, poisson’ or ‘euclid’. Only ‘gaussian’ is implemented.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'gaussian'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.floating_intensities">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">floating_intensities</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.floating_intensities" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive diffraction pattern rescaling</p>
<p>If True, allow for adaptative rescaling of the diffraction pattern intensities (to correct for incident beam intensity fluctuations).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.intensity_renormalization">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">intensity_renormalization</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.intensity_renormalization" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescales the intensities so they can be interpreted as Poisson counts.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.reg_del2">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">reg_del2</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.reg_del2" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to use a Gaussian prior (smoothing) regularizer</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.reg_del2_amplitude">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">reg_del2_amplitude</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.reg_del2_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Amplitude of the Gaussian prior if used</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.01</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.smooth_gradient">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">smooth_gradient</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.smooth_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing preconditioner</p>
<p>Sigma for gaussian filter (turned off if 0.)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.smooth_gradient_decay">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">smooth_gradient_decay</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.smooth_gradient_decay" title="Permalink to this definition">¶</a></dt>
<dd><p>Decay rate for smoothing preconditioner</p>
<p>Sigma for gaussian filter will reduce exponentially at this rate</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.scale_precond">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">scale_precond</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.scale_precond" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to use the object/probe scaling preconditioner</p>
<p>This parameter can give faster convergence for weakly scattering samples.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.scale_probe_object">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">scale_probe_object</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.scale_probe_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative scale of probe to object</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ML.probe_update_start">
<code class="sig-prename descclassname">engine.ML.</code><code class="sig-name descname">probe_update_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ML.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-dummy">
<h3>engine.Dummy<a class="headerlink" href="#engine-dummy" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.Dummy">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">Dummy</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.Dummy.numiter">
<code class="sig-prename descclassname">engine.Dummy.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.Dummy.numiter_contiguous">
<code class="sig-prename descclassname">engine.Dummy.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.Dummy.probe_support">
<code class="sig-prename descclassname">engine.Dummy.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.Dummy.name">
<code class="sig-prename descclassname">engine.Dummy.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'Dummy'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.Dummy.itertime">
<code class="sig-prename descclassname">engine.Dummy.</code><code class="sig-name descname">itertime</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.Dummy.itertime" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep time for a single iteration (in seconds)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.2</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-epie">
<h3>engine.ePIE<a class="headerlink" href="#engine-epie" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.ePIE">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">ePIE</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.numiter">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.numiter_contiguous">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.probe_support">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.name">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'ePIE'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.alpha">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>ePIE object update parameter</p>
<p>Step size for the object update, a higher value will give faster change.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.beta">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">beta</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>ePIE probe update parameter</p>
<p>Step size for the probe update, a higher value will give faster change.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.probe_update_start">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">probe_update_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.synchronization">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">synchronization</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.synchronization" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe/object synchronization period</p>
<p>Period with which to synchronize the object (and optionally the probe) among parallel nodes.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.redistribute_data">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">redistribute_data</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.redistribute_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Redistribute views to form blocks</p>
<p>Whether or not to redistribute data among nodes to keep each node’s views in a contiguous geographic block, even if new data is added during reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.average_probe">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">average_probe</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.average_probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Average probe among nodes</p>
<p>Whether or not to average the probe among nodes, otherwise each node has its own probe as in the original publication. Averaging seems to work the best.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.random_order">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">random_order</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.random_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Visit positions in random order</p>
<p>Whether to cycle through the positions in random order on each ePIE iteration. Otherwise does the pods in alphabetical order as per list.sort(). Disabling is useful for debugging.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.clip_object">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">clip_object</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.obj_smooth_std">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">obj_smooth_std</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.ePIE.probe_center_tol">
<code class="sig-prename descclassname">engine.ePIE.</code><code class="sig-name descname">probe_center_tol</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.ePIE.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-dm-3dbragg">
<h3>engine.DM_3dBragg<a class="headerlink" href="#engine-dm-3dbragg" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="engine.DM_3dBragg">
<code class="sig-prename descclassname">engine.</code><code class="sig-name descname">DM_3dBragg</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.numiter">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">numiter</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.numiter_contiguous">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">numiter_contiguous</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, …).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.probe_support">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">probe_support</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid probe area as fraction of the probe frame</p>
<p>Defines a circular area centered on the probe frame, in which the probe is allowed to be nonzero.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">position_refinement</code><span class="sig-paren">(</span><em class="sig-param">Param</em>, <em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement" title="Permalink to this definition">¶</a></dt>
<dd><p>If True refine scan positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.start">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations until position refinement starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.stop">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations after which positon refinement stops</p>
<p>If None, position refinement stops after last iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.interval">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">interval</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of position refinement</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.nshifts">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">nshifts</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.nshifts" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of random shifts calculated in each position refinement step (has to be multiple of 4)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.amplitude">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">amplitude</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from original position per random shift [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.max_shift">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">max_shift</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.max_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum distance from original position [m]</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.002</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.position_refinement.record">
<code class="sig-prename descclassname">engine.DM_3dBragg.position_refinement.</code><code class="sig-name descname">record</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.position_refinement.record" title="Permalink to this definition">¶</a></dt>
<dd><p>record movement of positions</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.name">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'DM_3dBragg'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.alpha">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">alpha</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference map parameter</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.probe_update_start">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">probe_update_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.subpix_start">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">subpix_start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.subpix_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations before starting subpixel interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.subpix">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">subpix</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.subpix" title="Permalink to this definition">¶</a></dt>
<dd><p>Subpixel interpolation; ‘fourier’,’linear’ or None for no interpolation</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'linear'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.update_object_first">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">update_object_first</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p>If True update object before probe</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.overlap_converge_factor">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">overlap_converge_factor</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.overlap_max_iterations">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">overlap_max_iterations</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.probe_inertia">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">probe_inertia</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1e-09</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.object_inertia">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">object_inertia</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.0001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.fourier_relax_factor">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">fourier_relax_factor</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>If rms error of model vs diffraction data is smaller than this fraction, Fourier constraint is met</p>
<p>Set this value higher for noisy data.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.obj_smooth_std">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">obj_smooth_std</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.clip_object">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">clip_object</code><span class="sig-paren">(</span><em class="sig-param">tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip object amplitude into this interval</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.probe_center_tol">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">probe_center_tol</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.probe_center_tol" title="Permalink to this definition">¶</a></dt>
<dd><p>Pixel radius around optical axes that the probe mass center must reside in</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support">
<code class="sig-prename descclassname">engine.DM_3dBragg.</code><code class="sig-name descname">sample_support</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample support settings</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.type">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.</code><code class="sig-name descname">type</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample support geometry</p>
<p>Options are ‘thinlayer’ for one-dimensional support as
function of z, ‘rod’ for one-dimensional radial support around
the z axis.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'thinlayer'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.size">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.</code><code class="sig-name descname">size</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Support thickness or radius</p>
<p>This parameter is ignored when shrink wrapping is used.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">2e-07</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.coefficient">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.</code><code class="sig-name descname">coefficient</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Scaling of region outside the support</p>
<p>Sample amplitude is multiplied by this value outside the support region</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.1</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.</code><code class="sig-name descname">shrinkwrap</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap settings. None for no shrink wrap.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap.smooth">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.shrinkwrap.</code><code class="sig-name descname">smooth</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap smoothing parameter in pixels</p>
<p>Sigma of gaussian with which to smooth object profile before applying shrink wrap. Pass None for no smoothing. Values &lt; .3 make little sense.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1.0</span> <span class="pre">(&gt;0.3)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap.cutoff">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.shrinkwrap.</code><code class="sig-name descname">cutoff</code><span class="sig-paren">(</span><em class="sig-param">float</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Shrink wrap cutoff parameter</p>
<p>The support is truncated where the object profile has decayed to this value relative to the maximum.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">0.5</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap.monotonic">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.shrinkwrap.</code><code class="sig-name descname">monotonic</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.monotonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Require the object profile to be monotonic</p>
<p>If the object profile increases again after the maximum, then the support is cut off. Set the cutoff parameter low to make this the dominating criterion.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap.start">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.shrinkwrap.</code><code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start shrink wrap after this iteration</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="data">
<dt id="engine.DM_3dBragg.sample_support.shrinkwrap.plot">
<code class="sig-prename descclassname">engine.DM_3dBragg.sample_support.shrinkwrap.</code><code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.DM_3dBragg.sample_support.shrinkwrap.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass shrink wrap information to the plot client</p>
<p>Puts shrink wrap information in the runtime dict. The plot client can choose to plot it if it likes.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="ptycho">
<h2>ptycho<a class="headerlink" href="#ptycho" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt>
<code class="sig-name descname">ptycho</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span></dt>
<dd><p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.verbose_level">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">verbose_level</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.verbose_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbosity level</p>
<p>Verbosity level for information logging.
- <code class="docutils literal notranslate"><span class="pre">0</span></code>: Only critical errors
- <code class="docutils literal notranslate"><span class="pre">1</span></code>: All errors
- <code class="docutils literal notranslate"><span class="pre">2</span></code>: Warning
- <code class="docutils literal notranslate"><span class="pre">3</span></code>: Process Information
- <code class="docutils literal notranslate"><span class="pre">4</span></code>: Object Information
- <code class="docutils literal notranslate"><span class="pre">5</span></code>: Debug</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;0,</span> <span class="pre">&lt;5)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.data_type">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">data_type</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction floating number precision</p>
<p>Reconstruction floating number precision (<code class="docutils literal notranslate"><span class="pre">'single'</span></code> or
<code class="docutils literal notranslate"><span class="pre">'double'</span></code>)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'single'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.run">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction identifier</p>
<p>Reconstruction run identifier. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the run name will
be constructed at run time from other information.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.dry_run">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">dry_run</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.dry_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Dry run switch</p>
<p>Run everything skipping all memory and cpu-heavy steps (and
file saving). <strong>NOT IMPLEMENTED</strong></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.ipython_kernel">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">ipython_kernel</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.ipython_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an ipython kernel for debugging</p>
<p>Start an ipython kernel for debugging.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<div class="section" id="ptycho-io">
<h3>ptycho.io<a class="headerlink" href="#ptycho-io" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="ptycho.io">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">io</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io" title="Permalink to this definition">¶</a></dt>
<dd><p>Global parameters for I/O</p>
<p>Global parameter container for I/O settings.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.home">
<code class="sig-prename descclassname">ptycho.io.</code><code class="sig-name descname">home</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.home" title="Permalink to this definition">¶</a></dt>
<dd><p>Base directory for all I/O</p>
<p>home is the root directory for all input/output operations. All other path parameters that
are relative paths will be relative to this directory.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.rfile">
<code class="sig-prename descclassname">ptycho.io.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruction file name (or format string)</p>
<p>Reconstruction file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'recons/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.interaction">
<code class="sig-prename descclassname">ptycho.io.</code><code class="sig-name descname">interaction</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction" title="Permalink to this definition">¶</a></dt>
<dd><p>ZeroMQ interactor options</p>
<p>Options for the communications server</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.interaction.active">
<code class="sig-prename descclassname">ptycho.io.interaction.</code><code class="sig-name descname">active</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.active" title="Permalink to this definition">¶</a></dt>
<dd><p>turns on the interaction</p>
<p>If True the interaction starts, if False all interaction is turned off</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.interaction.server">
<code class="sig-prename descclassname">ptycho.io.interaction.</code><code class="sig-name descname">server</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.server" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to server parameter tree</p>
<p><em>default</em> = <a class="reference internal" href="#ptycho.io.interaction.server" title="ptycho.io.interaction.server"><code class="xref py py-data docutils literal notranslate"><span class="pre">ptycho.io.interaction.server</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.interaction.client">
<code class="sig-prename descclassname">ptycho.io.interaction.</code><code class="sig-name descname">client</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.interaction.client" title="Permalink to this definition">¶</a></dt>
<dd><p>Link to client parameter tree</p>
<p><em>default</em> = <a class="reference internal" href="#ptycho.io.interaction.client" title="ptycho.io.interaction.client"><code class="xref py py-data docutils literal notranslate"><span class="pre">ptycho.io.interaction.client</span></code></a></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autosave">
<code class="sig-prename descclassname">ptycho.io.</code><code class="sig-name descname">autosave</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save options</p>
<p>Options for automatic saving during reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autosave.active">
<code class="sig-prename descclassname">ptycho.io.autosave.</code><code class="sig-name descname">active</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> the current reconstruction will be saved at regular intervals.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autosave.interval">
<code class="sig-prename descclassname">ptycho.io.autosave.</code><code class="sig-name descname">interval</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save interval</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&gt;0</span></code> the current reconstruction will be saved at regular intervals according to the</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autosave.rfile">
<code class="sig-prename descclassname">ptycho.io.autosave.</code><code class="sig-name descname">rfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autosave.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto-save file name (or format string)</p>
<p>Auto-save file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'dumps/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot">
<code class="sig-prename descclassname">ptycho.io.</code><code class="sig-name descname">autoplot</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting client parameters</p>
<p>Csontainer for the plotting.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.active">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">active</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Activation switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> the current reconstruction will be plotted at regular intervals.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.imfile">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">imfile</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.imfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot images file name (or format string)</p>
<p>Plot images file name (or format string).</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'plots/%(run)s/%(run)s_%(engine)s_%(iterations)04d.png'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.interval">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">interval</code><span class="sig-paren">(</span><em class="sig-param">int</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of iterations between plot updates</p>
<p>Requests to the server will happen with this iteration intervals. Note that this will work
only if interaction.polling_interval is smaller or equal to this number. If <code class="docutils literal notranslate"><span class="pre">interval</span>
<span class="pre">=0</span></code> plotting is disabled which should be used, when ptypy is run on a cluster.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.threaded">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">threaded</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.threaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Live plotting switch</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a plotting client will be spawned in a new thread and connected at
initialization. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the master node will carry out the plotting, pausing the
reconstruction. This option should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> when ptypy is run on an isolated
workstation.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.layout">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">layout</code><span class="sig-paren">(</span><em class="sig-param">str</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for default plotter or template name</p>
<p>Flexible layout for default plotter is not implemented yet. Please choose one of the
templates <code class="docutils literal notranslate"><span class="pre">'default'</span></code>,``’black_and_white’<code class="docutils literal notranslate"><span class="pre">,</span></code>’nearfield’<code class="docutils literal notranslate"><span class="pre">,</span> <span class="pre">``'minimal'</span></code> or <code class="docutils literal notranslate"><span class="pre">'weak'</span></code></p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">'default'</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.dump">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to dump plots as image files</p>
<p>Switch to dump plots as image files during reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.io.autoplot.make_movie">
<code class="sig-prename descclassname">ptycho.io.autoplot.</code><code class="sig-name descname">make_movie</code><span class="sig-paren">(</span><em class="sig-param">bool</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.io.autoplot.make_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce reconstruction movie after the reconstruction.</p>
<p>Switch to request the production of a movie from the dumped plots at the end of the
reconstruction.</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd></dl>

</div>
<div class="section" id="ptycho-scans">
<h3>ptycho.scans<a class="headerlink" href="#ptycho-scans" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="ptycho.scans">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">scans</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.scans" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for instances of scan parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.scans.scan_00">
<code class="sig-prename descclassname">ptycho.scans.</code><code class="sig-name descname">scan_00</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.scans.scan_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Wildcard</em>: multiple entries with arbitrary names are accepted.</p>
<p>Wildcard entry for list of scans to load. See <code class="xref py py-data docutils literal notranslate"><span class="pre">scan</span></code></p>
<p><em>default</em> = <code class="xref py py-data docutils literal notranslate"><span class="pre">ptycho.scans.*</span></code></p>
</dd></dl>

</div>
<div class="section" id="ptycho-engines">
<h3>ptycho.engines<a class="headerlink" href="#ptycho-engines" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="ptycho.engines">
<code class="sig-prename descclassname">ptycho.</code><code class="sig-name descname">engines</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.engines" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for instances of engine parameters</p>
<p><em>default</em> = <code class="docutils literal notranslate"><span class="pre">Param({})</span></code></p>
</dd></dl>

<dl class="data">
<dt id="ptycho.engines.engine_00">
<code class="sig-prename descclassname">ptycho.engines.</code><code class="sig-name descname">engine_00</code><span class="sig-paren">(</span><em class="sig-param">Param</em><span class="sig-paren">)</span><a class="headerlink" href="#ptycho.engines.engine_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Wildcard</em>: multiple entries with arbitrary names are accepted.</p>
<p>Wildcard entry for list of engines to run. See <code class="xref py py-data docutils literal notranslate"><span class="pre">engine</span></code></p>
<p>The value of engines.*.name is used to choose among the available engines.</p>
<p><em>default</em> = <code class="xref py py-data docutils literal notranslate"><span class="pre">ptycho.engines.*</span></code></p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             >next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.4.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Pierre Thibault, Bjoern Enders and others.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>