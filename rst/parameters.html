<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Parameter tree structure &mdash; ptypy 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/header.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/ptypyicon.ico"/>
    <link rel="top" title="ptypy 0.2.0 documentation" href="../content.html" />
    <link rel="next" title="ptypy package" href="ptypy.html" />
    <link rel="prev" title="Data management" href="data_management.html" />
<link href='http://fonts.googleapis.com/css?family=PT+Sans|Ubuntu|Cuprum' rel='stylesheet' type='text/css'>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="http://ptycho.github.io/ptypy">Home</a></li>
    <li><a href="http://www.github.com/ptycho/ptypy">Github</a></li>
    <li><a href="../content.html">Docs</a></li>
    <!-- <li><a href="develop.html">Extend/Develop</a></li> -->
  </ul>
  <div>
    <a href="../index.html"><img src="../_static/logo_60px.png" alt="SPHINX" /></a>

    <h0 style="padding-bottom:40px">Ptychography for Python</h0>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../content.html">
              <img class="logo" src="../_static/logo_100px.png" alt="Logo"/>
            </a></p>
<h3><a href="../content.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with Ptypy</a></li>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concepts and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_management.html">Data management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Parameter tree structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#verbose-level">.verbose_level</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-type">.data_type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run">.run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dry-run">.dry_run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#io">.io</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#io-home">.io.home</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io-rfile">.io.rfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io-autosave">.io.autosave</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io-interaction">.io.interaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io-autoplot">.io.autoplot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scan">.scan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scan-tags">.scan.tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-if-conflict-use-meta">.scan.if_conflict_use_meta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-data">.scan.data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-sharing">.scan.sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-geometry">.scan.geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-xy">.scan.xy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-illumination">.scan.illumination</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-sample">.scan.sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scan-coherence">.scan.coherence</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scans">.scans</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scans-scan-00">.scans.scan_00</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#engine">.engine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#engine-common">.engine.common</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-dm">.engine.DM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-ml">.engine.ML</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#engines">.engines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#engines-engine-00">.engines.engine_00</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ptypy.html">ptypy package</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data_management.html"
                        title="previous chapter">Data management</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ptypy.html"
                        title="next chapter">ptypy package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rst/parameters.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parameter-tree-structure">
<span id="parameters"></span><h1>Parameter tree structure<a class="headerlink" href="#parameter-tree-structure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="verbose-level">
<h2>.verbose_level<a class="headerlink" href="#verbose-level" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".verbose_level">
<code class="descclassname">.</code><code class="descname">verbose_level</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.verbose_level" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(0)</em> Verbosity level</p>
<dl class="docutils">
<dt>Verbosity level for information logging.</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">0</span></code>: Only errors</li>
<li><code class="docutils literal"><span class="pre">1</span></code>: Warning</li>
<li><code class="docutils literal"><span class="pre">2</span></code>: Process Information</li>
<li><code class="docutils literal"><span class="pre">3</span></code>: Object Information</li>
<li><code class="docutils literal"><span class="pre">4</span></code>: Debug</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0,</span> <span class="pre">&lt;4)</span></code></p>
</dd></dl>

</div>
<div class="section" id="data-type">
<h2>.data_type<a class="headerlink" href="#data-type" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".data_type">
<code class="descclassname">.</code><code class="descname">data_type</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(1)</em> Reconstruction floating number precision</p>
<p>Reconstruction floating number precision (<code class="docutils literal"><span class="pre">'single'</span></code> or <code class="docutils literal"><span class="pre">'double'</span></code>)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">single</span></code></p>
</dd></dl>

</div>
<div class="section" id="run">
<h2>.run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".run">
<code class="descclassname">.</code><code class="descname">run</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.run" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(2)</em> Reconstruction identifier</p>
<p>Reconstruction run identifier. If <code class="docutils literal"><span class="pre">None</span></code>, the run name will be constructed at run time from other information.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="dry-run">
<h2>.dry_run<a class="headerlink" href="#dry-run" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".dry_run">
<code class="descclassname">.</code><code class="descname">dry_run</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.dry_run" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(3)</em> Dry run switch</p>
<p>Run everything skipping all memory and cpu-heavy steps (and file saving).
<strong>NOT IMPLEMENTED</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">FALSE</span></code></p>
</dd></dl>

</div>
<div class="section" id="io">
<h2>.io<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".io">
<code class="descclassname">.</code><code class="descname">io</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.io" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(4)</em> Global parameters for I/O</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<div class="section" id="io-home">
<h3>.io.home<a class="headerlink" href="#io-home" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".io.home">
<code class="descclassname">.io.</code><code class="descname">home</code><span class="sig-paren">(</span><em>dir</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.home" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(5)</em> Base directory for all I/O</p>
<p>home is the root directory for all input/output operations. All other path parameters that are relative paths will be relative to this directory.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">./</span></code></p>
</dd></dl>

</div>
<div class="section" id="io-rfile">
<h3>.io.rfile<a class="headerlink" href="#io-rfile" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".io.rfile">
<code class="descclassname">.io.</code><code class="descname">rfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(6)</em> Reconstruction file name (or format string)</p>
<p>Reconstruction file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">recons/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr</span></code></p>
</dd></dl>

</div>
<div class="section" id="io-autosave">
<h3>.io.autosave<a class="headerlink" href="#io-autosave" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".io.autosave">
<code class="descclassname">.io.</code><code class="descname">autosave</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autosave" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(7)</em> Auto-save options</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autosave.active">
<code class="descclassname">.io.autosave.</code><code class="descname">active</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autosave.active" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(8)</em> Activation switch</p>
<p>If <code class="docutils literal"><span class="pre">True</span></code> the current reconstruction will be saved at regular intervals. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autosave.interval">
<code class="descclassname">.io.autosave.</code><code class="descname">interval</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autosave.interval" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(9)</em> Auto-save interval</p>
<p>If <code class="docutils literal"><span class="pre">&gt;0</span></code> the current reconstruction will be saved at regular intervals according to the pattern in <code class="xref py py-data docutils literal"><span class="pre">paths.autosave</span></code> . If <code class="docutils literal"><span class="pre">&lt;=0</span></code> not automatic saving</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">10</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autosave.rfile">
<code class="descclassname">.io.autosave.</code><code class="descname">rfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autosave.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(10)</em> Auto-save file name (or format string)</p>
<p>Auto-save file name or format string (constructed against runtime dictionary)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">dumps/%(run)s/%(run)s_%(engine)s_%(iterations)04d.ptyr</span></code></p>
</dd></dl>

</div>
<div class="section" id="io-interaction">
<h3>.io.interaction<a class="headerlink" href="#io-interaction" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".io.interaction">
<code class="descclassname">.io.</code><code class="descname">interaction</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.interaction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(11)</em> Server / Client parameters</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">False</span></code> is passed here in script instead of a Param, it translates to  <code class="docutils literal"><span class="pre">active=False</span></code> i.e. no ZeroMQ interaction server.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.interaction.active">
<code class="descclassname">.io.interaction.</code><code class="descname">active</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.interaction.active" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(12)</em> Activation switch</p>
<p>Set to <code class="docutils literal"><span class="pre">False</span></code> for no  ZeroMQ interaction server</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.interaction.address">
<code class="descclassname">.io.interaction.</code><code class="descname">address</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.interaction.address" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(13)</em> The address the server is listening to.</p>
<p>Wenn running ptypy on a remote server, it is the servers network address.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">tcp://127.0.0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.interaction.port">
<code class="descclassname">.io.interaction.</code><code class="descname">port</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.interaction.port" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(14)</em> The port the server is listening to.</p>
<p>Make sure to pick an unused port with a few unused ports close to it.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">5560</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.interaction.connections">
<code class="descclassname">.io.interaction.</code><code class="descname">connections</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.interaction.connections" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(15)</em> Number of concurrent connections on the server</p>
<p>A range <code class="docutils literal"><span class="pre">[port</span> <span class="pre">:</span> <span class="pre">port+connections]</span></code> of ports adjacent <a class="reference internal" href="#.io.interaction.port" title=".io.interaction.port"><code class="xref py py-data docutils literal"><span class="pre">port</span></code></a> will be opened on demand for connecting clients.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

</div>
<div class="section" id="io-autoplot">
<h3>.io.autoplot<a class="headerlink" href="#io-autoplot" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".io.autoplot">
<code class="descclassname">.io.</code><code class="descname">autoplot</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(16)</em> Plotting client parameters</p>
<p>In script you may set this parameter to <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">False</span></code> for no automatic plotting.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.imfile">
<code class="descclassname">.io.autoplot.</code><code class="descname">imfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.imfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(17)</em> Plot images file name (or format string)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">plots/%(run)s/%(run)s_%(engine)s_%(iterations)04d.png</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.interval">
<code class="descclassname">.io.autoplot.</code><code class="descname">interval</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.interval" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(18)</em> Number of iterations between plot updates</p>
<p>Requests to the server will happen with this iteration intervals. Note that this will work only if interaction.polling_interval is smaller or equal to this number. If <code class="docutils literal"><span class="pre">interval</span> <span class="pre">=0</span></code> plotting is disabled which should be used, when ptypy is run on a cluster.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;-1)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.threaded">
<code class="descclassname">.io.autoplot.</code><code class="descname">threaded</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.threaded" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(19)</em> Live plotting switch</p>
<p>If <code class="docutils literal"><span class="pre">True</span></code>, a plotting client will be spawned in a new thread and connected at initialization. If <code class="docutils literal"><span class="pre">False</span></code>, the master node will carry out the plotting, pausing the reconstruction. This option should be set to <code class="docutils literal"><span class="pre">True</span></code> when ptypy is run on an isolated workstation.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.layout">
<code class="descclassname">.io.autoplot.</code><code class="descname">layout</code><span class="sig-paren">(</span><em>str</em>, <em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.layout" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(20)</em> Options for default plotter or template name</p>
<p>Flexible layout for default plotter is not implemented yet. Please choose one of the templates <code class="docutils literal"><span class="pre">'default'</span></code>,``&#8217;black_and_white&#8217;<code class="docutils literal"><span class="pre">,</span></code>&#8216;nearfield&#8217;<code class="docutils literal"><span class="pre">,</span> <span class="pre">``'minimal'</span></code> or <code class="docutils literal"><span class="pre">'weak'</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.dump">
<code class="descclassname">.io.autoplot.</code><code class="descname">dump</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.dump" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(21)</em> Switch to dump plots as image files</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">FALSE</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".io.autoplot.make_movie">
<code class="descclassname">.io.autoplot.</code><code class="descname">make_movie</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.io.autoplot.make_movie" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(22)</em> Produce reconstruction movie after the reconstruction.</p>
<p>Switch to request the production of a movie from the dumped plots at the end of the reconstruction.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">FALSE</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="scan">
<h2>.scan<a class="headerlink" href="#scan" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".scan">
<code class="descclassname">.</code><code class="descname">scan</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(23)</em> Scan parameters</p>
<p>This categrogy specifies defaults for all scans. Scan-specific parameters are stored in scans.scan_%%</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<div class="section" id="scan-tags">
<h3>.scan.tags<a class="headerlink" href="#scan-tags" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.tags">
<code class="descclassname">.scan.</code><code class="descname">tags</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.tags" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(24)</em> Comma seperated string tags describing the data input</p>
<p>[deprecated?]</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-if-conflict-use-meta">
<h3>.scan.if_conflict_use_meta<a class="headerlink" href="#scan-if-conflict-use-meta" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.if_conflict_use_meta">
<code class="descclassname">.scan.</code><code class="descname">if_conflict_use_meta</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.if_conflict_use_meta" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(25)</em> Give priority to metadata relative to input parameters</p>
<p>[deprecated, use <a class="reference internal" href="#.scan.geometry.precedence" title=".scan.geometry.precedence"><code class="xref py py-data docutils literal"><span class="pre">scan.geometry.precedence</span></code></a> insteead]</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-data">
<h3>.scan.data<a class="headerlink" href="#scan-data" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.data">
<code class="descclassname">.scan.</code><code class="descname">data</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(26)</em> Data preparation parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.recipe">
<code class="descclassname">.scan.data.</code><code class="descname">recipe</code><span class="sig-paren">(</span><em>ext</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.recipe" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(27)</em> Data preparation recipe container</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.source">
<code class="descclassname">.scan.data.</code><code class="descname">source</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.source" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(28)</em> Describes where to get the data from.</p>
<dl class="docutils">
<dt>Accepted values are:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">'file'</span></code>: data will be read from a .ptyd file.</li>
<li>any valid recipe name: data will be prepared using the recipe.</li>
<li><code class="docutils literal"><span class="pre">'sim'</span></code> : data will be simulated according to parameters in simulation</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.dfile">
<code class="descclassname">.scan.data.</code><code class="descname">dfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.dfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(29)</em> Prepared data file path</p>
<p>If source was <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">'file'</span></code>, data will be loaded from this file and processing as well as saving is deactivated. If source is the name of an experiment recipe or path to a file, data will be saved to this file</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.label">
<code class="descclassname">.scan.data.</code><code class="descname">label</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.label" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(30)</em> The scan label</p>
<p>Unique string identifying the scan</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.shape">
<code class="descclassname">.scan.data.</code><code class="descname">shape</code><span class="sig-paren">(</span><em>int</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.shape" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(31)</em> Shape of the region of interest cropped from the raw data.</p>
<p>Cropping dimension of the diffraction frame
Can be None, (dimx, dimy), or dim. In the latter case shape will be (dim, dim).</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.save">
<code class="descclassname">.scan.data.</code><code class="descname">save</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.save" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(32)</em> Saving mode</p>
<dl class="docutils">
<dt>Mode to use to save data to file.</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code>: No saving</li>
<li><code class="docutils literal"><span class="pre">'merge'</span></code>: attemts to merge data in single chunk <strong>[not implemented]</strong></li>
<li><code class="docutils literal"><span class="pre">'append'</span></code>: appends each chunk in master *.ptyd file</li>
<li><code class="docutils literal"><span class="pre">'link'</span></code>: appends external links in master *.ptyd file and stores chunks separately in the path given by the link. Links file paths are relative to master file.</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.center">
<code class="descclassname">.scan.data.</code><code class="descname">center</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.center" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(33)</em> Center (pixel) of the optical axes in raw data</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code>, this parameter will be set by <a class="reference internal" href="#.scan.data.auto_center" title=".scan.data.auto_center"><code class="xref py py-data docutils literal"><span class="pre">auto_center</span></code></a> or elsewhere</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.psize">
<code class="descclassname">.scan.data.</code><code class="descname">psize</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.psize" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(34)</em> Detector pixel size</p>
<p>Dimensions of the detector pixels (in meters)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.distance">
<code class="descclassname">.scan.data.</code><code class="descname">distance</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.distance" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(35)</em> Sample-to-detector distance</p>
<p>In meters.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.rebin">
<code class="descclassname">.scan.data.</code><code class="descname">rebin</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(36)</em> Rebinning factor</p>
<p>Rebinning factor for the raw data frames. <code class="docutils literal"><span class="pre">'None'</span></code> or <code class="docutils literal"><span class="pre">1</span></code> both mean <em>no binning</em></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;1,</span> <span class="pre">&lt;8)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.orientation">
<code class="descclassname">.scan.data.</code><code class="descname">orientation</code><span class="sig-paren">(</span><em>int</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.orientation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(37)</em> Data frame orientation</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">0</span></code>: correct orientation</li>
<li><code class="docutils literal"><span class="pre">1</span></code>: invert columns (numpy.flip_lr)</li>
<li><code class="docutils literal"><span class="pre">2</span></code>: invert columns, invert rows</li>
<li><code class="docutils literal"><span class="pre">3</span></code>: invert rows  (numpy.flip_ud)</li>
<li><code class="docutils literal"><span class="pre">4</span></code>: transpose (numpy.transpose)</li>
<li><code class="docutils literal"><span class="pre">4+i</span></code>: tranpose + other operations from above</li>
</ul>
</div></blockquote>
<p>Alternatively, a 3-tuple of booleans may be provided <code class="docutils literal"><span class="pre">(do_transpose,</span> <span class="pre">do_flipud,</span> <span class="pre">do_fliplr)</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.energy">
<code class="descclassname">.scan.data.</code><code class="descname">energy</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.energy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(38)</em> Photon energy of the incident radiation</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.min_frames">
<code class="descclassname">.scan.data.</code><code class="descname">min_frames</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.min_frames" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(39)</em> Minimum number of frames loaded by each node</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.num_frames">
<code class="descclassname">.scan.data.</code><code class="descname">num_frames</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(40)</em> Maximum number of frames to be prepared</p>
<p>If <cite>positions_theory</cite> are provided, num_frames will be ovverriden with the number of positions available</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.chunk_format">
<code class="descclassname">.scan.data.</code><code class="descname">chunk_format</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.chunk_format" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(41)</em> Appendix to saved files if save == &#8216;link&#8217;</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">.chunk%02d</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.auto_center">
<code class="descclassname">.scan.data.</code><code class="descname">auto_center</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.auto_center" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(42)</em> Determine if center in data is calculated automatically</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">False</span></code>, no automatic centering</li>
<li><code class="docutils literal"><span class="pre">None</span></code>, only if <code class="xref py py-data docutils literal"><span class="pre">center</span></code> is <code class="docutils literal"><span class="pre">None</span></code></li>
<li><code class="docutils literal"><span class="pre">True</span></code>, it will be enforced</li>
</ul>
</div></blockquote>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.load_parallel">
<code class="descclassname">.scan.data.</code><code class="descname">load_parallel</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.load_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(43)</em> Determines what will be loaded in parallel</p>
<p>Choose from <code class="docutils literal"><span class="pre">None</span></code>, <code class="docutils literal"><span class="pre">'data'</span></code>, <code class="docutils literal"><span class="pre">'common'</span></code>, <code class="docutils literal"><span class="pre">'all'</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">data</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.positions_theory">
<code class="descclassname">.scan.data.</code><code class="descname">positions_theory</code><span class="sig-paren">(</span><em>ndarray</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.positions_theory" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(44)</em> Theoretical positions for this scan</p>
<p>If provided, experimental positions from <a class="reference internal" href="ptypy.core.html#ptypy.core.data.PtyScan" title="ptypy.core.data.PtyScan"><code class="xref any py py-class docutils literal"><span class="pre">PtyScan</span></code></a> subclass will be ignored. If data preparation is called from Ptycho instance, the calculated positions from the <a class="reference internal" href="ptypy.core.html#ptypy.core.xy.from_pars" title="ptypy.core.xy.from_pars"><code class="xref py py-func docutils literal"><span class="pre">ptypy.core.xy.from_pars()</span></code></a> dict will be inserted here</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.data.experimentID">
<code class="descclassname">.scan.data.</code><code class="descname">experimentID</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.data.experimentID" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(45)</em> Name of the experiment</p>
<p>If None, a default value will be provided by the recipe. <strong>unused</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-sharing">
<h3>.scan.sharing<a class="headerlink" href="#scan-sharing" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.sharing">
<code class="descclassname">.scan.</code><code class="descname">sharing</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sharing" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(46)</em> Scan sharing options</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sharing.object_share_with">
<code class="descclassname">.scan.sharing.</code><code class="descname">object_share_with</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sharing.object_share_with" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(47)</em> Label or index of scan to share object with.</p>
<dl class="docutils">
<dt>Possible values:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code>: Do not share</li>
<li><em>(string)</em>: Label of the scan to share with</li>
<li><em>(int)</em>: Index of scan to share with</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sharing.object_share_power">
<code class="descclassname">.scan.sharing.</code><code class="descname">object_share_power</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sharing.object_share_power" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(48)</em> Relative power for object sharing</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sharing.probe_share_with">
<code class="descclassname">.scan.sharing.</code><code class="descname">probe_share_with</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sharing.probe_share_with" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(49)</em> Label or index of scan to share probe with.</p>
<dl class="docutils">
<dt>Possible values:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code>: Do not share</li>
<li><em>(string)</em>: Label of the scan to share with</li>
<li><em>(int)</em>: Index of scan to share with</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sharing.probe_share_power">
<code class="descclassname">.scan.sharing.</code><code class="descname">probe_share_power</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sharing.probe_share_power" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(50)</em> Relative power for probe sharing</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-geometry">
<h3>.scan.geometry<a class="headerlink" href="#scan-geometry" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.geometry">
<code class="descclassname">.scan.</code><code class="descname">geometry</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(51)</em> Physical parameters</p>
<p>All distances are in meters. Other units are specified in the documentation strings.
These paramters have very low priority in the <a class="reference internal" href="ptypy.core.html#ptypy.core.ptycho.Ptycho" title="ptypy.core.ptycho.Ptycho"><code class="xref any py py-class docutils literal"><span class="pre">Ptycho</span></code></a> construction process and can usually left out in script if either <a class="reference internal" href="#.scan.data" title=".scan.data"><code class="xref py py-data docutils literal"><span class="pre">scan.data</span></code></a> ot the invoked preparation subclass provide enough geometric information. You can change this behavior with the <cite>precedence</cite> parameter.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.precedence">
<code class="descclassname">.scan.geometry.</code><code class="descname">precedence</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.precedence" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(52)</em> Where geometry parameters take precence over others</p>
<dl class="docutils">
<dt>Possible options if parameters are not None:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code>: Fill only missing parameters (default) at the very last moment making meta data from <a class="reference internal" href="ptypy.core.html#ptypy.core.data.PtyScan" title="ptypy.core.data.PtyScan"><code class="xref any py py-class docutils literal"><span class="pre">PtyScan</span></code></a> the default source of geometric information.</li>
<li><code class="docutils literal"><span class="pre">'meta'</span></code>: Overwrite meta after data was loaded, does not affect data preparation.</li>
<li><code class="docutils literal"><span class="pre">'data'</span></code>: Overwrite entries in <a class="reference internal" href="#.scan.data" title=".scan.data"><code class="xref py py-data docutils literal"><span class="pre">scan.data</span></code></a>. This affects data preparation too.</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.energy">
<code class="descclassname">.scan.geometry.</code><code class="descname">energy</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.energy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(53)</em> Energy (in keV)</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code>, uses <cite>lam</cite> instead.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">6.2</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.lam">
<code class="descclassname">.scan.geometry.</code><code class="descname">lam</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.lam" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(54)</em> Wavelength</p>
<p>Used only if <cite>energy</cite> is <code class="docutils literal"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.distance">
<code class="descclassname">.scan.geometry.</code><code class="descname">distance</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.distance" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(55)</em> Distance from object to detector</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">7.19</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.psize">
<code class="descclassname">.scan.geometry.</code><code class="descname">psize</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.psize" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(56)</em> Pixel size in Detector plane</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.000172</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.resolution">
<code class="descclassname">.scan.geometry.</code><code class="descname">resolution</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(57)</em> Pixel size in Sample plane</p>
<p>This parameter is used only for simulations</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.geometry.propagation">
<code class="descclassname">.scan.geometry.</code><code class="descname">propagation</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.geometry.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(58)</em> Propagation type</p>
<p>Either &#8220;farfield&#8221; or &#8220;nearfield&#8221;</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">farfield</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-xy">
<h3>.scan.xy<a class="headerlink" href="#scan-xy" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.xy">
<code class="descclassname">.scan.</code><code class="descname">xy</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(59)</em> Parameters for scan patterns</p>
<dl class="docutils">
<dt>These parameters are useful in two cases:</dt>
<dd><ul class="first last simple">
<li>When the experimental positions are not known (no encoders)</li>
<li>When using the package to simulate data.</li>
</ul>
</dd>
</dl>
<p>In script an array of shape <em>(N,2)</em> may be passed here instead of a Param or dictionary as an <strong>override</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.model">
<code class="descclassname">.scan.xy.</code><code class="descname">model</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(60)</em> Scan pattern type</p>
<dl class="docutils">
<dt>The type must be one of the following:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code>: positions are read from data file.</li>
<li><code class="docutils literal"><span class="pre">'raster'</span></code>: raster grid pattern</li>
<li><code class="docutils literal"><span class="pre">'round'</span></code>: concentric circles pattern</li>
<li><code class="docutils literal"><span class="pre">'spiral'</span></code>: spiral pattern</li>
</ul>
</dd>
</dl>
<p>In script an array of shape <em>(N,2)</em> may be passed here instead</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.spacing">
<code class="descclassname">.scan.xy.</code><code class="descname">spacing</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(61)</em> Pattern spacing</p>
<p>Spacing between scan positions. If the model supports asymmetric scans, a tuple passed here will be interpreted as <em>(dy,dx)</em> with <em>dx</em> as horizontal spacing and <em>dy</em> as vertical spacing. If <code class="docutils literal"><span class="pre">None</span></code> the value is calculated from <cite>extent</cite> and <cite>steps</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1.50E-06</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.steps">
<code class="descclassname">.scan.xy.</code><code class="descname">steps</code><span class="sig-paren">(</span><em>int</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.steps" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(62)</em> Pattern step count</p>
<p>Number of steps with length <em>spacing</em> in the grid. A tuple <em>(ny,nx)</em> provided here can be used for a different step in vertical ( <em>ny</em> ) and horizontal direction ( <em>nx</em> ). If <code class="docutils literal"><span class="pre">None</span></code> the, step count is calculated from <cite>extent</cite> and <cite>spacing</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">10</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.extent">
<code class="descclassname">.scan.xy.</code><code class="descname">extent</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.extent" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(63)</em> Rectangular extent of pattern</p>
<p>Defines the absolut maximum extent. If a tuple <em>(ly,lx)</em> is provided the extent may be rectangular rather than square. All positions outside of <cite>extent</cite> will be discarded. If <code class="docutils literal"><span class="pre">None</span></code> the extent will is <cite>spacing</cite> times <cite>steps</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1.50E-05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.offset">
<code class="descclassname">.scan.xy.</code><code class="descname">offset</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(64)</em> Offset of scan pattern relative to origin</p>
<p>If tuple, the offset may differ in <em>x</em> and <em>y</em>. Please not that the offset will be included when removing scan points outside of <cite>extend</cite>.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.jitter">
<code class="descclassname">.scan.xy.</code><code class="descname">jitter</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.jitter" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(65)</em> RMS of jitter on sample position</p>
<p><strong>Only use in simulation</strong>. Adds a random jitter to positions.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.xy.count">
<code class="descclassname">.scan.xy.</code><code class="descname">count</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.xy.count" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(66)</em> Number of scan points</p>
<p>Only return return positions up to number of <cite>count</cite>.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-illumination">
<h3>.scan.illumination<a class="headerlink" href="#scan-illumination" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.illumination">
<code class="descclassname">.scan.</code><code class="descname">illumination</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(67)</em> Illumination model (probe)</p>
<p>In script, you may pass directly a three dimensional  numpy.ndarray here instead of a <cite>Param</cite>. This array will be copied to the storage instance with no checking whatsoever. Used in <cite>~ptypy.core.illumination</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.model">
<code class="descclassname">.scan.illumination.</code><code class="descname">model</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(68)</em> Type of illumination model</p>
<dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled with the specified number of photons</li>
<li><code class="docutils literal"><span class="pre">'recon'</span></code> : load model from previous reconstruction, see <cite>recon</cite> Parameters</li>
<li><code class="docutils literal"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data</li>
<li><em>&lt;resource&gt;</em> : one of ptypys internal image resource strings</li>
<li><em>&lt;template&gt;</em> : one of the templates inillumination module</li>
</ul>
</dd>
</dl>
<p>In script, you may pass a numpy.ndarray here directly as the model. It is considered as incoming wavefront and will be propagated according to <cite>propagation</cite> with an optional <cite>aperture</cite> applied before</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.photons">
<code class="descclassname">.scan.illumination.</code><code class="descname">photons</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.photons" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(69)</em> Number of photons in the incident illumination</p>
<p>A value specified here will take precedence over calculated statistics from the loaded data.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.recon">
<code class="descclassname">.scan.illumination.</code><code class="descname">recon</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.recon" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(70)</em> Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.recon.rfile">
<code class="descclassname">.scan.illumination.recon.</code><code class="descname">rfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(71)</em> Path to a <code class="docutils literal"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">\*.ptyr</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.recon.ID">
<code class="descclassname">.scan.illumination.recon.</code><code class="descname">ID</code><span class="sig-paren">(</span><em>NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.recon.ID" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(72)</em> ID (label) of storage data to load</p>
<p><code class="docutils literal"><span class="pre">None</span></code> means any ID</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.recon.layer">
<code class="descclassname">.scan.illumination.recon.</code><code class="descname">layer</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.recon.layer" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(73)</em> Layer (mode) of storage data to load</p>
<p><code class="docutils literal"><span class="pre">None</span></code> means all layers, choose <code class="docutils literal"><span class="pre">0</span></code> for main mode</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.stxm">
<code class="descclassname">.scan.illumination.</code><code class="descname">stxm</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(74)</em> Parameters to initialize illumination from diffraction data</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.stxm.label">
<code class="descclassname">.scan.illumination.stxm.</code><code class="descname">label</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(75)</em> Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture">
<code class="descclassname">.scan.illumination.</code><code class="descname">aperture</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(76)</em> Beam aperture parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.form">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">form</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.form" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(77)</em> One of None, &#8216;rect&#8217; or &#8216;circ&#8217;</p>
<dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : no aperture, this may be useful for nearfield</li>
<li><code class="docutils literal"><span class="pre">'rect'</span></code> : rectangular aperture</li>
<li><code class="docutils literal"><span class="pre">'circ'</span></code> : circular aperture</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">circ</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.diffuser">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">diffuser</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.diffuser" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(78)</em> Noise in the transparen part of the aperture</p>
<dl class="docutils">
<dt>Can be either:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : no noise</li>
<li><code class="docutils literal"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)</li>
<li><code class="docutils literal"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.size">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">size</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.size" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(79)</em> Aperture width or diameter</p>
<p>May also be a tuple <em>(vertical,horizontal)</em> in case of an asymmetric aperture</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.edge">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">edge</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.edge" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(80)</em> Edge width of aperture (in pixels!)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.central_stop">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">central_stop</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.central_stop" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(81)</em> size of central stop as a fraction of aperture.size</p>
<p>If not None: places a central beam stop in aperture. The value given here is the fraction of the beam stop compared to <cite>size</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0,</span> <span class="pre">&lt;1.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.aperture.offset">
<code class="descclassname">.scan.illumination.aperture.</code><code class="descname">offset</code><span class="sig-paren">(</span><em>float</em>, <em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.aperture.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(82)</em> Offset between center of aperture and optical axes</p>
<p>May also be a tuple (vertical,horizontal) for size in case of an asymmetric offset</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.propagation">
<code class="descclassname">.scan.illumination.</code><code class="descname">propagation</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.propagation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(83)</em> Parameters for propagation after aperture plane</p>
<p>Propagation to focus takes precedence to parallel propagation if <cite>foccused</cite> is not <code class="docutils literal"><span class="pre">None</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.propagation.parallel">
<code class="descclassname">.scan.illumination.propagation.</code><code class="descname">parallel</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.propagation.parallel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(84)</em> Parallel propagation distance</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">0</span></code> : No parallel propagation</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.propagation.focussed">
<code class="descclassname">.scan.illumination.propagation.</code><code class="descname">focussed</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.propagation.focussed" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(85)</em> Propagation distance from aperture to focus</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">0</span></code> : No focus propagation</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.propagation.antialiasing">
<code class="descclassname">.scan.illumination.propagation.</code><code class="descname">antialiasing</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.propagation.antialiasing" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(86)</em> Antialiasing factor</p>
<p>Antialiasing factor used when generating the probe. (numbers larger than 2 or 3 are memory hungry)
<strong>[Untested]</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.propagation.spot_size">
<code class="descclassname">.scan.illumination.propagation.</code><code class="descname">spot_size</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.propagation.spot_size" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(87)</em> Focal spot diameter</p>
<p>If not <code class="docutils literal"><span class="pre">None</span></code>, this parameter is used to generate the appropriate aperture size instead of <code class="xref py py-data docutils literal"><span class="pre">size</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.diversity">
<code class="descclassname">.scan.illumination.</code><code class="descname">diversity</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(88)</em> Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.diversity.noise">
<code class="descclassname">.scan.illumination.diversity.</code><code class="descname">noise</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(89)</em> Noise in the generated modes of the illumination</p>
<dl class="docutils">
<dt>Can be either:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : no noise</li>
<li><code class="docutils literal"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)</li>
<li><code class="docutils literal"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.diversity.power">
<code class="descclassname">.scan.illumination.diversity.</code><code class="descname">power</code><span class="sig-paren">(</span><em>tuple</em>, <em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(90)</em> Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.illumination.diversity.shift">
<code class="descclassname">.scan.illumination.diversity.</code><code class="descname">shift</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.illumination.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(91)</em> Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-sample">
<h3>.scan.sample<a class="headerlink" href="#scan-sample" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.sample">
<code class="descclassname">.scan.</code><code class="descname">sample</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(92)</em> Initial object modelization parameters</p>
<p>In script, you may pass a numpy.array here directly as the model. This array will be passed to the storage instance with no checking whatsoever. Used in <cite>~ptypy.core.sample</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.model">
<code class="descclassname">.scan.sample.</code><code class="descname">model</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(93)</em> Type of initial object model</p>
<dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : model initialitziation defaults to flat array filled <cite>fill</cite></li>
<li><code class="docutils literal"><span class="pre">'recon'</span></code> : load model from STXM analysis of diffraction data</li>
<li><code class="docutils literal"><span class="pre">'stxm'</span></code> : Estimate model from autocorrelation of mean diffraction data</li>
<li><em>&lt;resource&gt;</em> : one of ptypys internal model resource strings</li>
<li><em>&lt;template&gt;</em> : one of the templates in sample module</li>
</ul>
</dd>
</dl>
<p>In script, you may pass a numpy.array here directly as the model. This array will be processed according to <cite>process</cite> in order to <em>simulate</em> a sample from e.g. a thickness profile.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.fill">
<code class="descclassname">.scan.sample.</code><code class="descname">fill</code><span class="sig-paren">(</span><em>float</em>, <em>complex</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.fill" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(94)</em> Default fill value</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.recon">
<code class="descclassname">.scan.sample.</code><code class="descname">recon</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.recon" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(95)</em> Parameters to load from previous reconstruction</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.recon.rfile">
<code class="descclassname">.scan.sample.recon.</code><code class="descname">rfile</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.recon.rfile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(96)</em> Path to a <code class="docutils literal"><span class="pre">.ptyr</span></code> compatible file</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">\*.ptyr</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.recon.ID">
<code class="descclassname">.scan.sample.recon.</code><code class="descname">ID</code><span class="sig-paren">(</span><em>NoneType</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.recon.ID" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(97)</em> ID (label) of storage data to load</p>
<p><code class="docutils literal"><span class="pre">None</span></code> is any ID</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.recon.layer">
<code class="descclassname">.scan.sample.recon.</code><code class="descname">layer</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.recon.layer" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(98)</em> Layer (mode) of storage data to load</p>
<p><code class="docutils literal"><span class="pre">None</span></code> is all layers, choose <code class="docutils literal"><span class="pre">0</span></code> for main mode</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.stxm">
<code class="descclassname">.scan.sample.</code><code class="descname">stxm</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.stxm" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(99)</em> STXM analysis parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.stxm.label">
<code class="descclassname">.scan.sample.stxm.</code><code class="descname">label</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.stxm.label" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(100)</em> Scan label of diffraction that is to be used for probe estimate</p>
<p><code class="docutils literal"><span class="pre">None</span></code>, own scan label is used</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process">
<code class="descclassname">.scan.sample.</code><code class="descname">process</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(101)</em> Model processing parameters</p>
<p>Can be <code class="docutils literal"><span class="pre">None</span></code>, i.e. no processing</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.offset">
<code class="descclassname">.scan.sample.process.</code><code class="descname">offset</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(102)</em> Offset between center of object array and scan pattern</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">(0,0)</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.zoom">
<code class="descclassname">.scan.sample.process.</code><code class="descname">zoom</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.zoom" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(103)</em> Zoom value for object simulation.</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code>, leave the array untouched. Otherwise the modeled or loaded image will be resized using <code class="xref py py-func docutils literal"><span class="pre">zoom()</span></code>.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.formula">
<code class="descclassname">.scan.sample.process.</code><code class="descname">formula</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.formula" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(104)</em> Chemical formula</p>
<p>A Formula compatible with a cxro database query,e.g. <code class="docutils literal"><span class="pre">'Au'</span></code> or <code class="docutils literal"><span class="pre">'NaCl'</span></code> or <code class="docutils literal"><span class="pre">'H2O'</span></code></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.density">
<code class="descclassname">.scan.sample.process.</code><code class="descname">density</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.density" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(105)</em> Density in [g/ccm]</p>
<p>Only used if <cite>formula</cite> is not None</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.thickness">
<code class="descclassname">.scan.sample.process.</code><code class="descname">thickness</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.thickness" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(106)</em> Maximum thickness of sample</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code>, the absolute values of loaded source array will be used</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1.00E-06</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.ref_index">
<code class="descclassname">.scan.sample.process.</code><code class="descname">ref_index</code><span class="sig-paren">(</span><em>complex</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.ref_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(107)</em> Assigned refractive index</p>
<p>If <code class="docutils literal"><span class="pre">None</span></code>, treat source array as projection of refractive index. If a refractive index is provided the array&#8217;s absolute value will be used to scale the refractive index.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.5+0.j</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.process.smoothing">
<code class="descclassname">.scan.sample.process.</code><code class="descname">smoothing</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.process.smoothing" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(108)</em> Smoothing scale</p>
<p>Smooth the projection with gaussian kernel of width given by <cite>smoothing_mfs</cite></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.diversity">
<code class="descclassname">.scan.sample.</code><code class="descname">diversity</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.diversity" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(109)</em> Probe mode(s) diversity parameters</p>
<p>Can be <code class="docutils literal"><span class="pre">None</span></code> i.e. no diversity</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.diversity.noise">
<code class="descclassname">.scan.sample.diversity.</code><code class="descname">noise</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.diversity.noise" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(110)</em> Noise in the generated modes of the illumination</p>
<dl class="docutils">
<dt>Can be either:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> : no noise</li>
<li><code class="docutils literal"><span class="pre">2-tuple</span></code> : noise in phase (amplitude (rms), minimum feature size)</li>
<li><code class="docutils literal"><span class="pre">4-tuple</span></code> : noise in phase &amp; modulus (rms, mfs, rms_mod, mfs_mod)</li>
</ul>
</dd>
</dl>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.diversity.power">
<code class="descclassname">.scan.sample.diversity.</code><code class="descname">power</code><span class="sig-paren">(</span><em>tuple</em>, <em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.diversity.power" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(111)</em> Power of modes relative to main mode (zero-layer)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.sample.diversity.shift">
<code class="descclassname">.scan.sample.diversity.</code><code class="descname">shift</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.sample.diversity.shift" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(112)</em> Lateral shift of modes relative to main mode</p>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
<div class="section" id="scan-coherence">
<h3>.scan.coherence<a class="headerlink" href="#scan-coherence" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scan.coherence">
<code class="descclassname">.scan.</code><code class="descname">coherence</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(113)</em> Coherence parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.coherence.num_probe_modes">
<code class="descclassname">.scan.coherence.</code><code class="descname">num_probe_modes</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence.num_probe_modes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(114)</em> Number of probe modes</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.coherence.num_object_modes">
<code class="descclassname">.scan.coherence.</code><code class="descname">num_object_modes</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence.num_object_modes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(115)</em> Number of object modes</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.coherence.spectrum">
<code class="descclassname">.scan.coherence.</code><code class="descname">spectrum</code><span class="sig-paren">(</span><em>list</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(116)</em> Amplitude of relative energy bins if the probe modes have a different energy</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.coherence.object_dispersion">
<code class="descclassname">.scan.coherence.</code><code class="descname">object_dispersion</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence.object_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(117)</em> Energy dispersive response of the object</p>
<dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">'achromatic'</span></code>: no dispersion</li>
<li><code class="docutils literal"><span class="pre">'linear'</span></code>: linear response model</li>
<li><code class="docutils literal"><span class="pre">'irregular'</span></code>: no assumption</li>
</ul>
</dd>
</dl>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".scan.coherence.probe_dispersion">
<code class="descclassname">.scan.coherence.</code><code class="descname">probe_dispersion</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.scan.coherence.probe_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(118)</em> Energy dispersive response of the probe</p>
<dl class="docutils">
<dt>One of:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">'achromatic'</span></code>: no dispersion</li>
<li><code class="docutils literal"><span class="pre">'linear'</span></code>: linear response model</li>
<li><code class="docutils literal"><span class="pre">'irregular'</span></code>: no assumption</li>
</ul>
</dd>
</dl>
<p><strong>[not implemented]</strong></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="scans">
<h2>.scans<a class="headerlink" href="#scans" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".scans">
<code class="descclassname">.</code><code class="descname">scans</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.scans" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(119)</em> Param container for instances of <cite>scan</cite> parameters</p>
<p>If not specified otherwise, entries in <em>scans</em> will use parameter defaults from <a class="reference internal" href="#.scan" title=".scan"><code class="xref py py-data docutils literal"><span class="pre">scan</span></code></a></p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<div class="section" id="scans-scan-00">
<h3>.scans.scan_00<a class="headerlink" href="#scans-scan-00" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".scans.scan_00">
<code class="descclassname">.scans.</code><code class="descname">scan_00</code><span class="sig-paren">(</span><em>scan</em><span class="sig-paren">)</span><a class="headerlink" href="#.scans.scan_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(120)</em> Default first scans entry</p>
<p>If only a single scan is used in the reconstruction, this entry may be left unchanged. If more than one scan is used, please make an entry for each scan. The name <em>scan_00</em> is an arbitrary choice and may be set to any other string.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="engine">
<h2>.engine<a class="headerlink" href="#engine" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".engine">
<code class="descclassname">.</code><code class="descname">engine</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(121)</em> Reconstruction engine parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<div class="section" id="engine-common">
<h3>.engine.common<a class="headerlink" href="#engine-common" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".engine.common">
<code class="descclassname">.engine.</code><code class="descname">common</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(122)</em> Parameters common to all engines</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.common.name">
<code class="descclassname">.engine.common.</code><code class="descname">name</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(123)</em> Name of engine.</p>
<p>Dependent on the name given here, the default parameter set will be a superset of <cite>common</cite> and parameters to the entry of the same name.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">DM</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.common.numiter">
<code class="descclassname">.engine.common.</code><code class="descname">numiter</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common.numiter" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(124)</em> Total number of iterations</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">20</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.common.numiter_contiguous">
<code class="descclassname">.engine.common.</code><code class="descname">numiter_contiguous</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common.numiter_contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(125)</em> Number of iterations without interruption</p>
<p>The engine will not return control to the caller until this number of iterations is completed (not processing server requests, I/O operations, ...)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.common.probe_support">
<code class="descclassname">.engine.common.</code><code class="descname">probe_support</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common.probe_support" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(126)</em> Fraction of valid probe area (circular) in probe frame</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.7</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.common.clip_object">
<code class="descclassname">.engine.common.</code><code class="descname">clip_object</code><span class="sig-paren">(</span><em>tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.common.clip_object" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(127)</em> Clip object amplitude into this intrervall</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-dm">
<h3>.engine.DM<a class="headerlink" href="#engine-dm" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".engine.DM">
<code class="descclassname">.engine.</code><code class="descname">DM</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(128)</em> Parameters for Difference map engine</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.alpha">
<code class="descclassname">.engine.DM.</code><code class="descname">alpha</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(129)</em> Difference map parameter</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.probe_update_start">
<code class="descclassname">.engine.DM.</code><code class="descname">probe_update_start</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(130)</em> Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">2</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.update_object_first">
<code class="descclassname">.engine.DM.</code><code class="descname">update_object_first</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.update_object_first" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(131)</em> If False update object before probe</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.overlap_converge_factor">
<code class="descclassname">.engine.DM.</code><code class="descname">overlap_converge_factor</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.overlap_converge_factor" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(132)</em> Threshold for interruption of the inner overlap loop</p>
<p>The inner overlap loop refines the probe and the object simultaneously. This loop is escaped as soon as the overall change in probe, relative to the first iteration, is less than this value.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.05</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.overlap_max_iterations">
<code class="descclassname">.engine.DM.</code><code class="descname">overlap_max_iterations</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.overlap_max_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(133)</em> Maximum of iterations for the overlap constraint inner loop</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">10</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.probe_inertia">
<code class="descclassname">.engine.DM.</code><code class="descname">probe_inertia</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.probe_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(134)</em> Weight of the current probe estimate in the update</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.001</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.object_inertia">
<code class="descclassname">.engine.DM.</code><code class="descname">object_inertia</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.object_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(135)</em> Weight of the current object in the update</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.fourier_relax_factor">
<code class="descclassname">.engine.DM.</code><code class="descname">fourier_relax_factor</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.fourier_relax_factor" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(136)</em> If rms error of model vs diffraction data is smaller than this fraction, Fourier constraint is met</p>
<p>Set this value higher for noisy data</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.01</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.DM.obj_smooth_std">
<code class="descclassname">.engine.DM.</code><code class="descname">obj_smooth_std</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.DM.obj_smooth_std" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(137)</em> Gaussian smoothing (pixel) of the current object prior to update</p>
<p>If None, smoothing is deactivated. This smoothing can be used to reduce the amplitude of spurious pixels in the outer, least constrained areas of the object.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">20</span> <span class="pre">(&gt;0)</span></code></p>
</dd></dl>

</div>
<div class="section" id="engine-ml">
<h3>.engine.ML<a class="headerlink" href="#engine-ml" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".engine.ML">
<code class="descclassname">.engine.</code><code class="descname">ML</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(138)</em> Maximum Likelihood parameters</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.type">
<code class="descclassname">.engine.ML.</code><code class="descname">type</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(139)</em> Likelihood model. One of &#8216;gaussian&#8217;, &#8216;poisson&#8217; or &#8216;euclid&#8217;</p>
<p>[only &#8216;gaussian&#8217; is implemented for now]</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">gaussian</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.floating_intensities">
<code class="descclassname">.engine.ML.</code><code class="descname">floating_intensities</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.floating_intensities" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(140)</em> If True, allow for adaptative rescaling of the diffraction pattern intensities (to correct for incident beam intensity fluctuations).</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">FALSE</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.intensity_renormalization">
<code class="descclassname">.engine.ML.</code><code class="descname">intensity_renormalization</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.intensity_renormalization" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(141)</em> A rescaling of the intensity so they can be interpreted as Poisson counts.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.reg_del2">
<code class="descclassname">.engine.ML.</code><code class="descname">reg_del2</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.reg_del2" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(142)</em> Whether to use a Gaussian prior (smoothing) regularizer.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">TRUE</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.reg_del2_amplitude">
<code class="descclassname">.engine.ML.</code><code class="descname">reg_del2_amplitude</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.reg_del2_amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(143)</em> Amplitude of the Gaussian prior if used.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0.01</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.smooth_gradient">
<code class="descclassname">.engine.ML.</code><code class="descname">smooth_gradient</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.smooth_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(144)</em> Smoothing preconditioner. If 0, not used, if &gt; 0 gaussian filter if &lt; 0 Hann window.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.scale_precond">
<code class="descclassname">.engine.ML.</code><code class="descname">scale_precond</code><span class="sig-paren">(</span><em>bool</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.scale_precond" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(145)</em> Whether to use the object/probe scaling preconditioner.</p>
<p>This parameter can give faster convergence for weakly scattering samples.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">FALSE</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.scale_probe_object">
<code class="descclassname">.engine.ML.</code><code class="descname">scale_probe_object</code><span class="sig-paren">(</span><em>float</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.scale_probe_object" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(146)</em> Relative scale of probe to object.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">1</span> <span class="pre">(&gt;0.0)</span></code></p>
</dd></dl>

<dl class="data">
<dt id=".engine.ML.probe_update_start">
<code class="descclassname">.engine.ML.</code><code class="descname">probe_update_start</code><span class="sig-paren">(</span><em>int</em><span class="sig-paren">)</span><a class="headerlink" href="#.engine.ML.probe_update_start" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(147)</em> Number of iterations before probe update starts</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="engines">
<h2>.engines<a class="headerlink" href="#engines" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id=".engines">
<code class="descclassname">.</code><code class="descname">engines</code><span class="sig-paren">(</span><em>Param</em><span class="sig-paren">)</span><a class="headerlink" href="#.engines" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(148)</em> Container for instances of &#8220;engine&#8221; parameters</p>
<p>All engines registered in this structure will be executed sequentially.</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

<div class="section" id="engines-engine-00">
<h3>.engines.engine_00<a class="headerlink" href="#engines-engine-00" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id=".engines.engine_00">
<code class="descclassname">.engines.</code><code class="descname">engine_00</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="headerlink" href="#.engines.engine_00" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(149)</em> Default first engines entry</p>
<p>Default first engine is difference map (DM)</p>
<p><em>default</em> = <code class="docutils literal"><span class="pre">None</span></code></p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ptypy.html" title="ptypy package"
             >next</a> |</li>
        <li class="right" >
          <a href="data_management.html" title="Data management"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../content.html">ptypy 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Pierre Thibault, Bjoern Enders and others.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>